	Start "home1" disabled
	"Free Text" "/* Homing on the negative limit switch and index pulse. Move negative until the negative limit switch is reached. Reverse and stop at the first index pulse after the negative limit switch becomes inactive.*/" 
		Start "Setting parameters" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_1_Homing_Number_Parity" 
		End
		Start "Verify if limit switch is active" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_1_Check_Special_IO_Status" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_1_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
		End
		Start "Start Moving High Speed" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
		End
		Start "Verify if limit switch is active" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_1_Check_Special_IO_Status" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_1_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
		End
		Start "Limit Switch inactive - move negative for 1,17 and positive for 2,18" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_1_LimitSwitch_Inactive_1" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-CPOS SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_1_Wait_LS_transition_1" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=17" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_1_Skip_Waitindex Variable=var_i3 Condition=5" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_1_Waitindex" 
		End
		Start "Limit Switch active - reverse and move slowly" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_1_LimitSwitch_Active_1" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		End
		Start "Wait for first index transition(1,2) or stop at limit switch transition(17,18)" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=17" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_1_homing_17_or_18 Variable=var_i3 Condition=5" 
			Start "TSH1_1 Waitindex" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_1_Waitindex" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=THS1_1_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"Jumps and Function Calls" "Type=0 Label=THS1_1_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=THS1_1_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"Jumps and Function Calls" "Type=6 Label=THS1_1_Waitindex_onFDBK1" 
					End
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_1_Skip_Waitindex" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "Verify if limit switch is active again" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_1_Check_Special_IO_Status" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_1_Homing_Number_Parity Variable=var_i2 Condition=3" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_1_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
			End
		"Jumps and Function Calls" "Type=0 Label=TSH1_1_exit_H" 
			Start "Homing 17 or 18" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_1_homing_17_or_18" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_1_Wait_LS_transition_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
		End
		Start "Restore LSACTIVE and exit homing" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_1_exit_H" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_1_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_1_exit_H2" 
			End
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "TSH1_1 Wait LS transition 1" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_1_Wait_LS_transition_1" 
			Start "Find Homing Nr. Parity" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_1_Homing_mode_1_LSN_1 Variable=var_i3 Condition=3" 
			End
			Start "Wait LSP to change status" 
				Start "Read DIGIN_ACTIVE_LEVEL.13 to determine what LSP transition to be expected next" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=DIGIN_ACTIVE_LEVEL" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=TSH1_1_LSPisActiveLow Variable=var_i2 Condition=3" 
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_1_LSPisActiveHigh" 
				Start "Wait for LSP to go High - Low" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=2 EvInputLevel=0" disabled
				"Free Text" "  // Define event : When the positive limit switch goes high->low\r\n  DISLSP;\r\n  !LSP;\r\n  ENLSP0;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_1_LSPisActiveLow" 
				Start "Wait for LSP to go Low - High" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=2 EvInputLevel=1" disabled
				"Free Text" "  // Define event : When the positive limit switch goes low->high\r\n  DISLSP;\r\n  !LSP;\r\n  ENLSP1;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			End
		"Jumps and Function Calls" "Type=6 Label=TSH1_1_Homing_mode_1_LSN_1" 
			Start "Wait LSN to change status" 
				Start "Read DIGIN_ACTIVE_LEVEL.14 to determine what LSN transition to be expected next" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=DIGIN_ACTIVE_LEVEL" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=TSH1_1_LSNisActiveLow Variable=var_i2 Condition=3" 
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_1_LSNisActiveHigh" 
				Start "Wait for LSN to go High - Low" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=3 EvInputLevel=0" disabled
				"Free Text" "  // Define event : When the negative limit switch goes high->low\r\n  DISLSN;\r\n  !LSN;\r\n  ENLSN0;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_1_LSNisActiveLow" 
				Start "Wait for LSN to go Low - High" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=3 EvInputLevel=1" disabled
				"Free Text" "  // Define event : When the negative limit switch goes low->high\r\n  DISLSN;\r\n  !LSN;\r\n  ENLSN1;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			End
		End
		Start "Check homing nr parity and reset CPOS" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_1_Homing_Number_Parity" 
			Start "Is Homing Number EVEN ?" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_1_Home1_Init_1 Variable=var_i3 Condition=3" 
			End
			Start "Homing Number Is ODD" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_17_Neg_Transm_1 Variable=Transmission Condition=1" 
			"Jumps and Function Calls" "Type=3" 
			End
			Start "Homing Number is EVEN" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_1_Home1_Init_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_17_Neg_Transm_1 Variable=Transmission Condition=1" 
			"Jumps and Function Calls" "Type=3" 
			End
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_Neg_Transm_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Jumps and Function Calls" "Type=3" 
			End
		End
		Start "Check_Special_IOs_Status" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_1_Check_Special_IO_Status" 
		"Free Text" "/* This function returns var_i2>0 if special_IO_status >0 only for the monitored limit switch. */\r\n" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Determine homing number parity" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_1_LimitSwitchNegative Variable=var_i3 Condition=3" 
			End
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
		"Jumps and Function Calls" "Type=3" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_1_LimitSwitchNegative" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
		"Jumps and Function Calls" "Type=3" 
		End
	End
	Start "home2" disabled
	"Free Text" "/* Homing on the positive limit switch and index pulse. Move positive until the positive limit switch is reached. Reverse and stop at the first index pulse after the positive limit switch becomes inactive. */" 
		Start "Setting parameters" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_2_Homing_Number_Parity" 
		End
		Start "Verify if limit switch is active" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_2_Check_Special_IO_Status" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_2_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
		End
		Start "Start Moving High Speed" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
		End
		Start "Verify if limit switch is active" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_2_Check_Special_IO_Status" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_2_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
		End
		Start "Limit Switch inactive - move negative for 1,17 and positive for 2,18" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_2_LimitSwitch_Inactive_1" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-CPOS SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_2_Wait_LS_transition_1" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=17" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_2_Skip_Waitindex Variable=var_i3 Condition=5" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_2_Waitindex" 
		End
		Start "Limit Switch active - reverse and move slowly" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_2_LimitSwitch_Active_1" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		End
		Start "Wait for first index transition(1,2) or stop at limit switch transition(17,18)" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=17" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_2_homing_17_or_18 Variable=var_i3 Condition=5" 
			Start "TSH1_2 Waitindex" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_2_Waitindex" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=THS1_2_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"Jumps and Function Calls" "Type=0 Label=THS1_2_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=THS1_2_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"Jumps and Function Calls" "Type=6 Label=THS1_2_Waitindex_onFDBK1" 
					End
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_2_Skip_Waitindex" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "Verify if limit switch is active again" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_2_Check_Special_IO_Status" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_2_Homing_Number_Parity Variable=var_i2 Condition=3" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_2_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
			End
		"Jumps and Function Calls" "Type=0 Label=TSH1_2_exit_H" 
			Start "Homing 17 or 18" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_2_homing_17_or_18" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_2_Wait_LS_transition_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
		End
		Start "Restore LSACTIVE and exit homing" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_2_exit_H" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_2_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_2_exit_H2" 
			End
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "TSH1_2 Wait LS transition 1" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_2_Wait_LS_transition_1" 
			Start "Find Homing Nr. Parity" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_2_Homing_mode_1_LSN_1 Variable=var_i3 Condition=3" 
			End
			Start "Wait LSP to change status" 
				Start "Read DIGIN_ACTIVE_LEVEL.13 to determine what LSP transition to be expected next" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=DIGIN_ACTIVE_LEVEL" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=TSH1_2_LSPisActiveLow Variable=var_i2 Condition=3" 
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_2_LSPisActiveHigh" 
				Start "Wait for LSP to go High - Low" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=2 EvInputLevel=0" disabled
				"Free Text" "  // Define event : When the positive limit switch goes high->low\r\n  DISLSP;\r\n  !LSP;\r\n  ENLSP0;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_2_LSPisActiveLow" 
				Start "Wait for LSP to go Low - High" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=2 EvInputLevel=1" disabled
				"Free Text" "  // Define event : When the positive limit switch goes low->high\r\n  DISLSP;\r\n  !LSP;\r\n  ENLSP1;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			End
		"Jumps and Function Calls" "Type=6 Label=TSH1_2_Homing_mode_1_LSN_1" 
			Start "Wait LSN to change status" 
				Start "Read DIGIN_ACTIVE_LEVEL.14 to determine what LSN transition to be expected next" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=DIGIN_ACTIVE_LEVEL" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=TSH1_2_LSNisActiveLow Variable=var_i2 Condition=3" 
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_2_LSNisActiveHigh" 
				Start "Wait for LSN to go High - Low" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=3 EvInputLevel=0" disabled
				"Free Text" "  // Define event : When the negative limit switch goes high->low\r\n  DISLSN;\r\n  !LSN;\r\n  ENLSN0;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_2_LSNisActiveLow" 
				Start "Wait for LSN to go Low - High" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=3 EvInputLevel=1" disabled
				"Free Text" "  // Define event : When the negative limit switch goes low->high\r\n  DISLSN;\r\n  !LSN;\r\n  ENLSN1;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			End
		End
		Start "Check homing nr parity and reset CPOS" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_2_Homing_Number_Parity" 
			Start "Is Homing Number EVEN ?" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_2_Home1_Init_1 Variable=var_i3 Condition=3" 
			End
			Start "Homing Number Is ODD" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_27_Neg_Transm_1 Variable=Transmission Condition=1" 
			"Jumps and Function Calls" "Type=3" 
			End
			Start "Homing Number is EVEN" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_2_Home1_Init_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_27_Neg_Transm_1 Variable=Transmission Condition=1" 
			"Jumps and Function Calls" "Type=3" 
			End
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_27_Neg_Transm_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Jumps and Function Calls" "Type=3" 
			End
		End
		Start "Check_Special_IOs_Status" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_2_Check_Special_IO_Status" 
		"Free Text" "/* This function returns var_i2>0 if special_IO_status >0 only for the monitored limit switch. */\r\n" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Determine homing number parity" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_2_LimitSwitchNegative Variable=var_i3 Condition=3" 
			End
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
		"Jumps and Function Calls" "Type=3" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_2_LimitSwitchNegative" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
		"Jumps and Function Calls" "Type=3" 
		End
	End
	Start "home3" disabled
	"Free Text" "/* Homing on the positive home switch and index pulse. Initial movement is negative if the home switch is high. Otherwise, initial movement is positive, then movement is reversed after home switch low-high transition. Wait for the home switch high-low transition and stop at the first index pulse. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H3_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H3_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H3_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H3_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H3_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H3_TSH3_Start" 
		"Jumps and Function Calls" "Type=6 Label=H3_Homing_Mode_3_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H3_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H3_TSH3_Start" 
		End
		Start "If Home high(3,5,19,21) or low(4,6,20,22) move normal; if home low(3,5,19,21) or high(4,6,20,22) move reverse" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
		"Jumps and Function Calls" "Type=0 Label=H3_THS3_Home_reverse Variable=var_i2 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H3_THS3_reverse Variable=var_i3 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H3_THS3_normal" 
		"Jumps and Function Calls" "Type=6 Label=H3_THS3_Home_reverse" 
		"Jumps and Function Calls" "Type=0 Label=H3_THS3_reverse Variable=var_i3 Condition=3" 
		End
		Start "Move normal negative(3,6,19,22) or positive(4,5,20,21) then slow down at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H3_THS3_normal" 
			Start "Start moving" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H3_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H3_THS3_HomeTrans Variable=var_i3 Condition=5" 
				Start "Move slowly in the same direction and wait for the first index transition" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Motor Commands" "Type=3" 
				End
			"Jumps and Function Calls" "Type=0 Label=H3_THS3_WaitIndex" 
			End
		End
		Start "Move reverse positive(3,6,19,22) or negative(4,5,20,21)  then reverse at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H3_THS3_reverse" 
			Start "Move reverse" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H3_TSH3_Home_change_status" 
			End
			Start "Reverse again at home switch transition and move slowly" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H3_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H3_THS3_HomeTrans Variable=var_i3 Condition=5" 
			"Jumps and Function Calls" "Type=0 Label=H3_THS3_WaitIndex" 
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H3_THS3_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H3_THS3_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H3_THS3_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H3_THS3_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H3_THS3_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_3_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_3_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home input to change status." 
		"Jumps and Function Calls" "Type=6 Label=H3_TSH3_Home_change_status" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			Start "If Home is low, then go to Home is 0" 
			"Jumps and Function Calls" "Type=0 Label=H3_TSH3_Homeis0 Variable=var_i2 Condition=0" 
			End
			Start "Wait for Home input to go High - Low" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
			End
		"Jumps and Function Calls" "Type=0 Label=H3_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=6 Label=H3_TSH3_Homeis0" 
			Start "Wait forHome input to go Low - High" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
			End
		"Jumps and Function Calls" "Type=6 Label=H3_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H3_THS3_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H3_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H3_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H3_TSH3_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_3_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_3_exit_H3" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home4" disabled
	"Free Text" "/* Homing on the positive home switch and index pulse. Initial movement is positive if the home switch is low. Otherwise, initial movement is negative, then movement is reversed after home switch high-low transition. Wait for the home switch low-high transition and stop at the first index pulse. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H4_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H4_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H4_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H4_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H4_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H4_TSH3_Start" 
		"Jumps and Function Calls" "Type=6 Label=H4_Homing_Mode_3_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H4_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H4_TSH3_Start" 
		End
		Start "If Home high(3,5,19,21) or low(4,6,20,22) move normal; if home low(3,5,19,21) or high(4,6,20,22) move reverse" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
		"Jumps and Function Calls" "Type=0 Label=H4_THS3_Home_reverse Variable=var_i2 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H4_THS3_reverse Variable=var_i3 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H4_THS3_normal" 
		"Jumps and Function Calls" "Type=6 Label=H4_THS3_Home_reverse" 
		"Jumps and Function Calls" "Type=0 Label=H4_THS3_reverse Variable=var_i3 Condition=3" 
		End
		Start "Move normal negative(3,6,19,22) or positive(4,5,20,21) then slow down at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H4_THS3_normal" 
			Start "Start moving" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H4_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H4_THS3_HomeTrans Variable=var_i3 Condition=5" 
				Start "Move slowly in the same direction and wait for the first index transition" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Motor Commands" "Type=3" 
				End
			"Jumps and Function Calls" "Type=0 Label=H4_THS3_WaitIndex" 
			End
		End
		Start "Move reverse positive(3,6,19,22) or negative(4,5,20,21)  then reverse at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H4_THS3_reverse" 
			Start "Move reverse" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H4_TSH3_Home_change_status" 
			End
			Start "Reverse again at home switch transition and move slowly" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H4_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H4_THS3_HomeTrans Variable=var_i3 Condition=5" 
			"Jumps and Function Calls" "Type=0 Label=H4_THS3_WaitIndex" 
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H4_THS3_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H4_THS3_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H4_THS3_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H4_THS3_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H4_THS3_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_4_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_4_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home input to change status." 
		"Jumps and Function Calls" "Type=6 Label=H4_TSH3_Home_change_status" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			Start "If Home is low, then go to Home is 0" 
			"Jumps and Function Calls" "Type=0 Label=H4_TSH3_Homeis0 Variable=var_i2 Condition=0" 
			End
			Start "Wait for Home input to go High - Low" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
			End
		"Jumps and Function Calls" "Type=0 Label=H4_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=6 Label=H4_TSH3_Homeis0" 
			Start "Wait forHome input to go Low - High" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
			End
		"Jumps and Function Calls" "Type=6 Label=H4_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H4_THS3_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H4_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H4_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H4_TSH3_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_4_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_4_exit_H3" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home5" disabled
	"Free Text" "/* Homing on the negative home switch and index pulse. Initial movement is positive if the home switch is high. Otherwise, initial movement is negative, then movement is reversed after home switch low-high transition. Wait for the home switch high-low transition and stop at the first index pulse. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H5_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H5_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H5_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H5_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H5_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H5_TSH3_Start" 
		"Jumps and Function Calls" "Type=6 Label=H5_Homing_Mode_3_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H5_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H5_TSH3_Start" 
		End
		Start "If Home high(3,5,19,21) or low(4,6,20,22) move normal; if home low(3,5,19,21) or high(4,6,20,22) move reverse" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
		"Jumps and Function Calls" "Type=0 Label=H5_THS3_Home_reverse Variable=var_i2 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H5_THS3_reverse Variable=var_i3 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H5_THS3_normal" 
		"Jumps and Function Calls" "Type=6 Label=H5_THS3_Home_reverse" 
		"Jumps and Function Calls" "Type=0 Label=H5_THS3_reverse Variable=var_i3 Condition=3" 
		End
		Start "Move normal negative(3,6,19,22) or positive(4,5,20,21) then slow down at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H5_THS3_normal" 
			Start "Start moving" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H5_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H5_THS3_HomeTrans Variable=var_i3 Condition=5" 
				Start "Move slowly in the same direction and wait for the first index transition" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Motor Commands" "Type=3" 
				End
			"Jumps and Function Calls" "Type=0 Label=H5_THS3_WaitIndex" 
			End
		End
		Start "Move reverse positive(3,6,19,22) or negative(4,5,20,21)  then reverse at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H5_THS3_reverse" 
			Start "Move reverse" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H5_TSH3_Home_change_status" 
			End
			Start "Reverse again at home switch transition and move slowly" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H5_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H5_THS3_HomeTrans Variable=var_i3 Condition=5" 
			"Jumps and Function Calls" "Type=0 Label=H5_THS3_WaitIndex" 
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H5_THS3_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H5_THS3_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H5_THS3_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H5_THS3_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H5_THS3_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_5_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_5_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home input to change status." 
		"Jumps and Function Calls" "Type=6 Label=H5_TSH3_Home_change_status" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			Start "If Home is low, then go to Home is 0" 
			"Jumps and Function Calls" "Type=0 Label=H5_TSH3_Homeis0 Variable=var_i2 Condition=0" 
			End
			Start "Wait for Home input to go High - Low" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
			End
		"Jumps and Function Calls" "Type=0 Label=H5_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=6 Label=H5_TSH3_Homeis0" 
			Start "Wait forHome input to go Low - High" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
			End
		"Jumps and Function Calls" "Type=6 Label=H5_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H5_THS3_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H5_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H5_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H5_TSH3_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_5_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_5_exit_H3" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home6" disabled
	"Free Text" "/* Homing on the negative home switch and index pulse. Initial movement is negative if the home switch is low. Otherwise, initial movement is positive, then movement is reversed after home switch high-low transition. Wait for the home switch low-high transition and stop at the first index pulse. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H6_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H6_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H6_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H6_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H6_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H6_TSH3_Start" 
		"Jumps and Function Calls" "Type=6 Label=H6_Homing_Mode_3_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H6_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H6_TSH3_Start" 
		End
		Start "If Home high(3,5,19,21) or low(4,6,20,22) move normal; if home low(3,5,19,21) or high(4,6,20,22) move reverse" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
		"Jumps and Function Calls" "Type=0 Label=H6_THS3_Home_reverse Variable=var_i2 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H6_THS3_reverse Variable=var_i3 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H6_THS3_normal" 
		"Jumps and Function Calls" "Type=6 Label=H6_THS3_Home_reverse" 
		"Jumps and Function Calls" "Type=0 Label=H6_THS3_reverse Variable=var_i3 Condition=3" 
		End
		Start "Move normal negative(3,6,19,22) or positive(4,5,20,21) then slow down at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H6_THS3_normal" 
			Start "Start moving" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H6_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H6_THS3_HomeTrans Variable=var_i3 Condition=5" 
				Start "Move slowly in the same direction and wait for the first index transition" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Motor Commands" "Type=3" 
				End
			"Jumps and Function Calls" "Type=0 Label=H6_THS3_WaitIndex" 
			End
		End
		Start "Move reverse positive(3,6,19,22) or negative(4,5,20,21)  then reverse at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H6_THS3_reverse" 
			Start "Move reverse" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H6_TSH3_Home_change_status" 
			End
			Start "Reverse again at home switch transition and move slowly" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H6_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H6_THS3_HomeTrans Variable=var_i3 Condition=5" 
			"Jumps and Function Calls" "Type=0 Label=H6_THS3_WaitIndex" 
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H6_THS3_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H6_THS3_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H6_THS3_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H6_THS3_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H6_THS3_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_6_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_6_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home input to change status." 
		"Jumps and Function Calls" "Type=6 Label=H6_TSH3_Home_change_status" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			Start "If Home is low, then go to Home is 0" 
			"Jumps and Function Calls" "Type=0 Label=H6_TSH3_Homeis0 Variable=var_i2 Condition=0" 
			End
			Start "Wait for Home input to go High - Low" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
			End
		"Jumps and Function Calls" "Type=0 Label=H6_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=6 Label=H6_TSH3_Homeis0" 
			Start "Wait forHome input to go Low - High" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
			End
		"Jumps and Function Calls" "Type=6 Label=H6_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H6_THS3_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H6_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H6_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H6_TSH3_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_6_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_6_exit_H3" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home7" disabled
	"Free Text" "/* Homing on the home switch and index pulse. Initial movement is positive if the home switch is low, otherwise is negative. If moving positive, wait for either the home switch low-high transition or the positive limit switch, then reverse movement. While moving negative, wait for the home switch high-low transition and stop at the first index pulse. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=7" 
		"Jumps and Function Calls" "Type=0 Label=H7_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H7_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H7_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H7_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H7_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H7_TSH7_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H7_TSH7_Hm_Mode_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H7_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H7_TSH7_Start_Homing" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H7_TSH7_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H7_TSH7_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H7_TSH7_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H7_TSH7_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H7_TSH7_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H7_TSH7_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H7_TSH7_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H7_TSH7_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(7,10,23,26) or positive(11,14,27,30)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H7_TSH7_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H7_TSH7_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(11,14,27,30) or positive(7,10,23,26), else home input high move negative(11,10, 27,26) or negative(7,14,23,30)" 
			"Jumps and Function Calls" "Type=0 Label=H7_TSH7_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(7,14,23,30) or positive(10,11,26,27) slowly until the home switch transition is reached, position at left" 
				Start "For 10,14,26,30 invert parameter CPOS(move positive(10,11,26,27) or negative(7,14,23,30))" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H7_TSH7_noninvert2 Variable=var_i3 Condition=3" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Jumps and Function Calls" "Type=6 Label=H7_TSH7_noninvert2" 
				End
				Start "Start moving slowly" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
				"Jumps and Function Calls" "Type=0 Label=H7_TSH7_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H7_TSH7_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(7,10,23,26) or negative(11,14,27,30)." 
			"Jumps and Function Calls" "Type=6 Label=H7_TSH7_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Start moving" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached or limit switch become active" 
				"Jumps and Function Calls" "Type=6 Label=H7_TSH7_start" 
				"Jumps and Function Calls" "Type=0 Label=H7_TSH7_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H7_TSH7_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H7_TSH7_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H7_TSH7_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H7_TSH7_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H7_TSH7_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H7_TSH7_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H7_TSH7_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H7_TSH7_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H7_TSH7_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H7_TSH7_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H7_TSH7_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H7_TSH7_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H7_TSH7_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(10,11,26,27) or negative(7,14,23,30) slowly without reaching the LSP, position at left of home switch transition" 
					Start "For 7,11,23,27 invert parameter CPOS move slowly positive(10,11,26,27) or negative(7,14,23,30) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H7_TSH7_noninvert Variable=var_i3 Condition=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H7_TSH7_noninvert" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H7_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H7_TSH7_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(7,10,21,24) or positive (11,14,25,28) and after home switch transition move slowly negative(7,14,21,28) or positive(10,11,24,25)" 
				"Jumps and Function Calls" "Type=6 Label=H7_TSH7_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "For 10,14,26,30 invert parameter CPOS move slowly negative(7,14,23,30) or positive(10,11,26,27) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H7_TSH7_noninvert3 Variable=var_i3 Condition=3" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H7_TSH7_noninvert3" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H7_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H7_TSH7_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H7_TSH7_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H7_THS7_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H7_THS7_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H7_THS7_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H7_THS7_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_7_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_7_exit_H2" 
			End
			Start "Restore ASR and LSACITVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H7_TSH7_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H7_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H7_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H7_TSH7_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_7_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_7_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home8" disabled
	"Free Text" "/* Homing on the home switch and index pulse. Initial movement is positive if the home switch is low, otherwise is negative. If moving negative, wait for the home switch high-low transition, then reverse movement. Movement is also reversed if the positive limit switch is reached. While moving positive, wait for the home switch low-high transition and stop at the first index pulse. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=8" 
		"Jumps and Function Calls" "Type=0 Label=H8_TSH8_Hom_Mode_8_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=16" 
		"Jumps and Function Calls" "Type=0 Label=H8_TSH8_Hom_Mode_8_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H8_TSH8_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H8_TSH8_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H8_TSH8_Hom_Mode_8_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H8_TSH8_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H8_TSH8_Start_Homing" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H8_TSH8_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H8_TSH8_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H8_TSH8_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H8_TSH8_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H8_TSH8_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H8_TSH8_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H8_TSH8_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H8_TSH8_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(8,24) or positive(12,28)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H8_TSH8_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H8_TSH8_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(12,28) or positive(8,24), else home input high move negative(8,24) or negative(12,28)" 
			"Jumps and Function Calls" "Type=0 Label=H8_TSH8_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(8,24) or positive(12,28) slowly until the home switch transition is reached, position at left" 
				Start "Move negative(8,24) or positive(12,28)" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Move positive slowly (8,24) or negative(12,28)" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Motor Commands" "Type=3" 
				End
				Start "Wait for home switch position to be reached" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
				End
				Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(24,28)" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
				"Jumps and Function Calls" "Type=0 Label=H8_TSH8_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H8_TSH8_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(8,24) or negative(12,28)." 
			"Jumps and Function Calls" "Type=6 Label=H8_TSH8_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Move positive(8,24) or negative(12,28)" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached" 
				"Jumps and Function Calls" "Type=6 Label=H8_TSH8_start" 
				"Jumps and Function Calls" "Type=0 Label=H8_TSH8_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H8_TSH8_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H8_TSH8_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H8_TSH8_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H8_TSH8_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H8_TSH8_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H8_TSH8_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H8_TSH8_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H8_TSH8_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H8_TSH8_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H8_TSH8_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H8_TSH8_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H8_TSH8_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H8_TSH8_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(12,26) or negative(8,22) slowly without reaching the LSP, position at left of home switch transition" 
					Start "Start moving slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"Motor Commands" "Type=3" 
					End
					Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(24,28)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
					"Jumps and Function Calls" "Type=0 Label=H8_TSH8_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H8_TSH8_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(8,24) or positive (12,28) and after home switch transition move slowly negative(12,28) or positive(8,24)" 
				"Jumps and Function Calls" "Type=6 Label=H8_TSH8_wait_homeswitch" 
					Start "Wait for home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Start moving slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(22,26)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
					"Jumps and Function Calls" "Type=0 Label=H8_TSH8_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H8_TSH8_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H8_TSH8_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H8_THS8_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H8_THS8_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H8_THS8_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H8_THS8_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH8_8_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH8_8_exit_H2" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H8_TSH8_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H8_TSH8_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H8_TSH8_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H8_TSH8_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH8_8_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH8_8_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home9" disabled
	"Free Text" "/* Homing on the home switch and index pulse. Initial movement is positive. Reverse either after the home switch high-low transition or if the positive limit switch is reached. While moving negative, wait for the home switch low-high transition and stop at the first index pulse. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=9" 
		"Jumps and Function Calls" "Type=0 Label=H9_TSH9_Hom_Mode_9_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=16" 
		"Jumps and Function Calls" "Type=0 Label=H9_TSH9_Hom_Mode_9_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H9_TSH9_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H9_TSH9_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H9_TSH9_Hom_Mode_9_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H9_TSH9_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H9_TSH9_Start_Homing" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H9_TSH9_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H9_TSH9_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H9_TSH9_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H9_TSH9_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H9_TSH9_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H9_TSH9_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H9_TSH9_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H9_TSH9_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(9,25) or positive(13,29)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H9_TSH9_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H9_TSH9_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(13,29) or positive(9,25), else home input high move negative(9,25) or negative(13,29)" 
			"Jumps and Function Calls" "Type=0 Label=H9_TSH9_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(13,29) or positive(9,25) slowly until the home switch transition is reached, position at left" 
				Start "Start moving" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Reverse slowly " 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Motor Commands" "Type=3" 
				End
				Start "Wait for home switch position to be reached" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
				End
				Start "Go to \"Wait Index\" for(9,25) or \"Wait for home switch\" for(13,29)" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=25" 
				"Jumps and Function Calls" "Type=0 Label=H9_TSH9_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H9_TSH9_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(9,25) or negative(13,29)." 
			"Jumps and Function Calls" "Type=6 Label=H9_TSH9_positive" 
				Start "Start moving" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached" 
				"Jumps and Function Calls" "Type=6 Label=H9_TSH9_start" 
				"Jumps and Function Calls" "Type=0 Label=H9_TSH9_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H9_TSH9_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H9_TSH9_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H9_TSH9_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H9_TSH9_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H9_TSH9_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H9_TSH9_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H9_TSH9_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H9_TSH9_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H9_TSH9_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H9_TSH9_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H9_TSH9_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H9_TSH9_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H9_TSH9_start Variable=var_i2 Condition=0" 
				End
				Start "Move positive(13,29) or negative(9,25) without reaching the LS, position at left of home switch transition" 
					Start "Wait for the home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Move slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(9,23) or \"Wait for home switch\" for(13,27)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=23" 
					"Jumps and Function Calls" "Type=0 Label=H9_TSH9_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H9_TSH9_WaitIndex" 
					End
				End
				Start "Move negative and move slowly after home switch transition" 
				"Jumps and Function Calls" "Type=6 Label=H9_TSH9_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(9,25) or \"Wait for home switch\" for(13,29)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=25" 
					"Jumps and Function Calls" "Type=0 Label=H9_TSH9_HomeTrans Variable=var_i3 Condition=5" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"Motor Commands" "Type=3" 
					"Jumps and Function Calls" "Type=0 Label=H9_TSH9_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H9_TSH9_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H9_THS9_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H9_THS9_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H9_THS9_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H9_THS9_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH9_9_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH9_9_exit_H2" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H9_TSH9_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H9_TSH9_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H9_TSH9_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H9_TSH9_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH9_9_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH9_9_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home10" disabled
	"Free Text" "/* Homing on the home switch and index pulse. Initial movement is positive. Reverse if the positive limit switch is reached, then reverse once again after home switch low-high transition. While moving positive, wait for the home switch high-low transition and stop at the first index pulse. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=7" 
		"Jumps and Function Calls" "Type=0 Label=H10_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H10_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H10_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H10_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H10_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H10_TSH7_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H10_TSH7_Hm_Mode_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H10_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H10_TSH7_Start_Homing" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H10_TSH7_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H10_TSH7_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H10_TSH7_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H10_TSH7_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H10_TSH7_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H10_TSH7_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H10_TSH7_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H10_TSH7_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(7,10,23,26) or positive(11,14,27,30)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H10_TSH7_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H10_TSH7_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(11,14,27,30) or positive(7,10,23,26), else home input high move negative(11,10, 27,26) or negative(7,14,23,30)" 
			"Jumps and Function Calls" "Type=0 Label=H10_TSH7_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(7,14,23,30) or positive(10,11,26,27) slowly until the home switch transition is reached, position at left" 
				Start "For 10,14,26,30 invert parameter CPOS(move positive(10,11,26,27) or negative(7,14,23,30))" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H10_TSH7_noninvert2 Variable=var_i3 Condition=3" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Jumps and Function Calls" "Type=6 Label=H10_TSH7_noninvert2" 
				End
				Start "Start moving slowly" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
				"Jumps and Function Calls" "Type=0 Label=H10_TSH7_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H10_TSH7_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(7,10,23,26) or negative(11,14,27,30)." 
			"Jumps and Function Calls" "Type=6 Label=H10_TSH7_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Start moving" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached or limit switch become active" 
				"Jumps and Function Calls" "Type=6 Label=H10_TSH7_start" 
				"Jumps and Function Calls" "Type=0 Label=H10_TSH7_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H10_TSH7_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H10_TSH7_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H10_TSH7_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H10_TSH7_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H10_TSH7_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H10_TSH7_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H10_TSH7_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H10_TSH7_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H10_TSH7_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H10_TSH7_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H10_TSH7_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H10_TSH7_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H10_TSH7_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(10,11,26,27) or negative(7,14,23,30) slowly without reaching the LSP, position at left of home switch transition" 
					Start "For 7,11,23,27 invert parameter CPOS move slowly positive(10,11,26,27) or negative(7,14,23,30) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H10_TSH7_noninvert Variable=var_i3 Condition=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H10_TSH7_noninvert" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H10_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H10_TSH7_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(7,10,21,24) or positive (11,14,25,28) and after home switch transition move slowly negative(7,14,21,28) or positive(10,11,24,25)" 
				"Jumps and Function Calls" "Type=6 Label=H10_TSH7_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "For 10,14,26,30 invert parameter CPOS move slowly negative(7,14,23,30) or positive(10,11,26,27) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H10_TSH7_noninvert3 Variable=var_i3 Condition=3" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H10_TSH7_noninvert3" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H10_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H10_TSH7_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H10_TSH7_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H10_THS7_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H10_THS7_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H10_THS7_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H10_THS7_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_10_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_10_exit_H2" 
			End
			Start "Restore ASR and LSACITVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H10_TSH7_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H10_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H10_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H10_TSH7_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_10_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_10_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home11" disabled
	"Free Text" "/* Homing on the home switch and index pulse. Initial movement is negative if the home switch is low, otherwise is positive. If moving negative, wait for either the home swith low-high transition or the negative limit switch, then reverse movement. While moving positive, wait of the home switch high-low transition and stop at the first index pulse. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=7" 
		"Jumps and Function Calls" "Type=0 Label=H11_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H11_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H11_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H11_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H11_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H11_TSH7_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H11_TSH7_Hm_Mode_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H11_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H11_TSH7_Start_Homing" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H11_TSH7_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H11_TSH7_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H11_TSH7_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H11_TSH7_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H11_TSH7_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H11_TSH7_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H11_TSH7_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H11_TSH7_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(7,10,23,26) or positive(11,14,27,30)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H11_TSH7_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H11_TSH7_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(11,14,27,30) or positive(7,10,23,26), else home input high move negative(11,10, 27,26) or negative(7,14,23,30)" 
			"Jumps and Function Calls" "Type=0 Label=H11_TSH7_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(7,14,23,30) or positive(10,11,26,27) slowly until the home switch transition is reached, position at left" 
				Start "For 10,14,26,30 invert parameter CPOS(move positive(10,11,26,27) or negative(7,14,23,30))" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H11_TSH7_noninvert2 Variable=var_i3 Condition=3" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Jumps and Function Calls" "Type=6 Label=H11_TSH7_noninvert2" 
				End
				Start "Start moving slowly" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
				"Jumps and Function Calls" "Type=0 Label=H11_TSH7_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H11_TSH7_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(7,10,23,26) or negative(11,14,27,30)." 
			"Jumps and Function Calls" "Type=6 Label=H11_TSH7_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Start moving" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached or limit switch become active" 
				"Jumps and Function Calls" "Type=6 Label=H11_TSH7_start" 
				"Jumps and Function Calls" "Type=0 Label=H11_TSH7_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H11_TSH7_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H11_TSH7_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H11_TSH7_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H11_TSH7_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H11_TSH7_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H11_TSH7_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H11_TSH7_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H11_TSH7_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H11_TSH7_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H11_TSH7_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H11_TSH7_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H11_TSH7_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H11_TSH7_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(10,11,26,27) or negative(7,14,23,30) slowly without reaching the LSP, position at left of home switch transition" 
					Start "For 7,11,23,27 invert parameter CPOS move slowly positive(10,11,26,27) or negative(7,14,23,30) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H11_TSH7_noninvert Variable=var_i3 Condition=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H11_TSH7_noninvert" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H11_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H11_TSH7_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(7,10,21,24) or positive (11,14,25,28) and after home switch transition move slowly negative(7,14,21,28) or positive(10,11,24,25)" 
				"Jumps and Function Calls" "Type=6 Label=H11_TSH7_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "For 10,14,26,30 invert parameter CPOS move slowly negative(7,14,23,30) or positive(10,11,26,27) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H11_TSH7_noninvert3 Variable=var_i3 Condition=3" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H11_TSH7_noninvert3" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H11_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H11_TSH7_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H11_TSH7_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H11_THS7_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H11_THS7_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H11_THS7_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H11_THS7_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_11_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_11_exit_H2" 
			End
			Start "Restore ASR and LSACITVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H11_TSH7_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H11_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H11_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H11_TSH7_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_11_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_11_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home12" disabled
	"Free Text" "/* Homing on the home switch and index pulse. Initial movement is negative if the home switch is low, otherwise is positive. If moving positive, wait for the home switch high-low transition, then reverse movement. Movement is also reversed if the negative limit switch is reached. While moving negative, wait for the home switch low-high transition and stop at the first index pulse. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=8" 
		"Jumps and Function Calls" "Type=0 Label=H12_TSH8_Hom_Mode_8_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=16" 
		"Jumps and Function Calls" "Type=0 Label=H12_TSH8_Hom_Mode_8_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H12_TSH8_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H12_TSH8_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H12_TSH8_Hom_Mode_8_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H12_TSH8_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H12_TSH8_Start_Homing" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H12_TSH8_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H12_TSH8_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H12_TSH8_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H12_TSH8_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H12_TSH8_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H12_TSH8_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H12_TSH8_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H12_TSH8_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(8,24) or positive(12,28)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H12_TSH8_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H12_TSH8_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(12,28) or positive(8,24), else home input high move negative(8,24) or negative(12,28)" 
			"Jumps and Function Calls" "Type=0 Label=H12_TSH8_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(8,24) or positive(12,28) slowly until the home switch transition is reached, position at left" 
				Start "Move negative(8,24) or positive(12,28)" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Move positive slowly (8,24) or negative(12,28)" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Motor Commands" "Type=3" 
				End
				Start "Wait for home switch position to be reached" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
				End
				Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(24,28)" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
				"Jumps and Function Calls" "Type=0 Label=H12_TSH8_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H12_TSH8_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(8,24) or negative(12,28)." 
			"Jumps and Function Calls" "Type=6 Label=H12_TSH8_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Move positive(8,24) or negative(12,28)" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached" 
				"Jumps and Function Calls" "Type=6 Label=H12_TSH8_start" 
				"Jumps and Function Calls" "Type=0 Label=H12_TSH8_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H12_TSH8_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H12_TSH8_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H12_TSH8_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H12_TSH8_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H12_TSH8_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H12_TSH8_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H12_TSH8_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H12_TSH8_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H12_TSH8_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H12_TSH8_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H12_TSH8_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H12_TSH8_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H12_TSH8_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(12,26) or negative(8,22) slowly without reaching the LSP, position at left of home switch transition" 
					Start "Start moving slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"Motor Commands" "Type=3" 
					End
					Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(24,28)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
					"Jumps and Function Calls" "Type=0 Label=H12_TSH8_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H12_TSH8_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(8,24) or positive (12,28) and after home switch transition move slowly negative(12,28) or positive(8,24)" 
				"Jumps and Function Calls" "Type=6 Label=H12_TSH8_wait_homeswitch" 
					Start "Wait for home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Start moving slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(22,26)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
					"Jumps and Function Calls" "Type=0 Label=H12_TSH8_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H12_TSH8_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H12_TSH8_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H12_THS8_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H12_THS8_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H12_THS8_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H12_THS8_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH8_12_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH8_12_exit_H2" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H12_TSH8_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H12_TSH8_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H12_TSH8_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H12_TSH8_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH8_12_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH8_12_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home13" disabled
	"Free Text" "/* Homing on the home switch and index pulse. Initial movement is negative. Reverse either after the home switch high-low transition or if the negative limit switch is reached. While moving positive, wait for the home switch low-high transition and stop at the first index pulse. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=9" 
		"Jumps and Function Calls" "Type=0 Label=H13_TSH9_Hom_Mode_9_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=16" 
		"Jumps and Function Calls" "Type=0 Label=H13_TSH9_Hom_Mode_9_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H13_TSH9_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H13_TSH9_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H13_TSH9_Hom_Mode_9_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H13_TSH9_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H13_TSH9_Start_Homing" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H13_TSH9_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H13_TSH9_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H13_TSH9_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H13_TSH9_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H13_TSH9_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H13_TSH9_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H13_TSH9_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H13_TSH9_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(9,25) or positive(13,29)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H13_TSH9_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H13_TSH9_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(13,29) or positive(9,25), else home input high move negative(9,25) or negative(13,29)" 
			"Jumps and Function Calls" "Type=0 Label=H13_TSH9_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(13,29) or positive(9,25) slowly until the home switch transition is reached, position at left" 
				Start "Start moving" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Reverse slowly " 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Motor Commands" "Type=3" 
				End
				Start "Wait for home switch position to be reached" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
				End
				Start "Go to \"Wait Index\" for(9,25) or \"Wait for home switch\" for(13,29)" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=25" 
				"Jumps and Function Calls" "Type=0 Label=H13_TSH9_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H13_TSH9_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(9,25) or negative(13,29)." 
			"Jumps and Function Calls" "Type=6 Label=H13_TSH9_positive" 
				Start "Start moving" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached" 
				"Jumps and Function Calls" "Type=6 Label=H13_TSH9_start" 
				"Jumps and Function Calls" "Type=0 Label=H13_TSH9_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H13_TSH9_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H13_TSH9_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H13_TSH9_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H13_TSH9_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H13_TSH9_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H13_TSH9_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H13_TSH9_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H13_TSH9_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H13_TSH9_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H13_TSH9_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H13_TSH9_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H13_TSH9_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H13_TSH9_start Variable=var_i2 Condition=0" 
				End
				Start "Move positive(13,29) or negative(9,25) without reaching the LS, position at left of home switch transition" 
					Start "Wait for the home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Move slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(9,23) or \"Wait for home switch\" for(13,27)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=23" 
					"Jumps and Function Calls" "Type=0 Label=H13_TSH9_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H13_TSH9_WaitIndex" 
					End
				End
				Start "Move negative and move slowly after home switch transition" 
				"Jumps and Function Calls" "Type=6 Label=H13_TSH9_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(9,25) or \"Wait for home switch\" for(13,29)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=25" 
					"Jumps and Function Calls" "Type=0 Label=H13_TSH9_HomeTrans Variable=var_i3 Condition=5" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"Motor Commands" "Type=3" 
					"Jumps and Function Calls" "Type=0 Label=H13_TSH9_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H13_TSH9_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H13_THS9_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H13_THS9_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H13_THS9_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H13_THS9_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH9_13_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH9_13_exit_H2" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H13_TSH9_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H13_TSH9_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H13_TSH9_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H13_TSH9_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH9_13_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH9_13_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home14" disabled
	"Free Text" "/* Homing on the home switch and index pulse. Initial movement is negative. Reverse if the negative limit switch is reached, then reverse once again after home switch low-high transition. While moving negative, wait for the home switch high-low transition and stop at the first index pulse. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=7" 
		"Jumps and Function Calls" "Type=0 Label=H14_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H14_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H14_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H14_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H14_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H14_TSH7_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H14_TSH7_Hm_Mode_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H14_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H14_TSH7_Start_Homing" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H14_TSH7_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H14_TSH7_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H14_TSH7_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H14_TSH7_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H14_TSH7_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H14_TSH7_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H14_TSH7_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H14_TSH7_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(7,10,23,26) or positive(11,14,27,30)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H14_TSH7_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H14_TSH7_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(11,14,27,30) or positive(7,10,23,26), else home input high move negative(11,10, 27,26) or negative(7,14,23,30)" 
			"Jumps and Function Calls" "Type=0 Label=H14_TSH7_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(7,14,23,30) or positive(10,11,26,27) slowly until the home switch transition is reached, position at left" 
				Start "For 10,14,26,30 invert parameter CPOS(move positive(10,11,26,27) or negative(7,14,23,30))" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H14_TSH7_noninvert2 Variable=var_i3 Condition=3" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Jumps and Function Calls" "Type=6 Label=H14_TSH7_noninvert2" 
				End
				Start "Start moving slowly" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
				"Jumps and Function Calls" "Type=0 Label=H14_TSH7_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H14_TSH7_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(7,10,23,26) or negative(11,14,27,30)." 
			"Jumps and Function Calls" "Type=6 Label=H14_TSH7_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Start moving" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached or limit switch become active" 
				"Jumps and Function Calls" "Type=6 Label=H14_TSH7_start" 
				"Jumps and Function Calls" "Type=0 Label=H14_TSH7_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H14_TSH7_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H14_TSH7_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H14_TSH7_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H14_TSH7_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H14_TSH7_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H14_TSH7_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H14_TSH7_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H14_TSH7_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H14_TSH7_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H14_TSH7_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H14_TSH7_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H14_TSH7_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H14_TSH7_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(10,11,26,27) or negative(7,14,23,30) slowly without reaching the LSP, position at left of home switch transition" 
					Start "For 7,11,23,27 invert parameter CPOS move slowly positive(10,11,26,27) or negative(7,14,23,30) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H14_TSH7_noninvert Variable=var_i3 Condition=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H14_TSH7_noninvert" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H14_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H14_TSH7_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(7,10,21,24) or positive (11,14,25,28) and after home switch transition move slowly negative(7,14,21,28) or positive(10,11,24,25)" 
				"Jumps and Function Calls" "Type=6 Label=H14_TSH7_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "For 10,14,26,30 invert parameter CPOS move slowly negative(7,14,23,30) or positive(10,11,26,27) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H14_TSH7_noninvert3 Variable=var_i3 Condition=3" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H14_TSH7_noninvert3" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H14_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H14_TSH7_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H14_TSH7_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H14_THS7_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H14_THS7_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H14_THS7_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H14_THS7_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_14_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_14_exit_H2" 
			End
			Start "Restore ASR and LSACITVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H14_TSH7_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H14_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H14_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H14_TSH7_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_14_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_14_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "" disabled
	End
	Start "" disabled
	End
	Start "home17" disabled
	"Free Text" "/* Homing without an index pulse. Move negative until the negative limit switch is reached. Reverse and stop at negative limit switch active-inactive transition. */" 
		Start "Setting parameters" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_17_Homing_Number_Parity" 
		End
		Start "Verify if limit switch is active" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_17_Check_Special_IO_Status" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_17_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
		End
		Start "Start Moving High Speed" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
		End
		Start "Verify if limit switch is active" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_17_Check_Special_IO_Status" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_17_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
		End
		Start "Limit Switch inactive - move negative for 1,17 and positive for 2,18" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_17_LimitSwitch_Inactive_1" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-CPOS SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_17_Wait_LS_transition_1" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=17" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_17_Skip_Waitindex Variable=var_i3 Condition=5" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_17_Waitindex" 
		End
		Start "Limit Switch active - reverse and move slowly" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_17_LimitSwitch_Active_1" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		End
		Start "Wait for first index transition(1,2) or stop at limit switch transition(17,18)" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=17" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_17_homing_17_or_18 Variable=var_i3 Condition=5" 
			Start "TSH1_17 Waitindex" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_Waitindex" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=THS1_17_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"Jumps and Function Calls" "Type=0 Label=THS1_17_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=THS1_17_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"Jumps and Function Calls" "Type=6 Label=THS1_17_Waitindex_onFDBK1" 
					End
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_Skip_Waitindex" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "Verify if limit switch is active again" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_17_Check_Special_IO_Status" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_17_Homing_Number_Parity Variable=var_i2 Condition=3" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_17_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
			End
		"Jumps and Function Calls" "Type=0 Label=TSH1_17_exit_H" 
			Start "Homing 17 or 18" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_homing_17_or_18" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_17_Wait_LS_transition_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
		End
		Start "Restore LSACTIVE and exit homing" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_17_exit_H" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_17_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_exit_H2" 
			End
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "TSH1_17 Wait LS transition 1" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_17_Wait_LS_transition_1" 
			Start "Find Homing Nr. Parity" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_17_Homing_mode_1_LSN_1 Variable=var_i3 Condition=3" 
			End
			Start "Wait LSP to change status" 
				Start "Read DIGIN_ACTIVE_LEVEL.13 to determine what LSP transition to be expected next" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=DIGIN_ACTIVE_LEVEL" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=TSH1_17_LSPisActiveLow Variable=var_i2 Condition=3" 
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_LSPisActiveHigh" 
				Start "Wait for LSP to go High - Low" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=2 EvInputLevel=0" disabled
				"Free Text" "  // Define event : When the positive limit switch goes high->low\r\n  DISLSP;\r\n  !LSP;\r\n  ENLSP0;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_LSPisActiveLow" 
				Start "Wait for LSP to go Low - High" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=2 EvInputLevel=1" disabled
				"Free Text" "  // Define event : When the positive limit switch goes low->high\r\n  DISLSP;\r\n  !LSP;\r\n  ENLSP1;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			End
		"Jumps and Function Calls" "Type=6 Label=TSH1_17_Homing_mode_1_LSN_1" 
			Start "Wait LSN to change status" 
				Start "Read DIGIN_ACTIVE_LEVEL.14 to determine what LSN transition to be expected next" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=DIGIN_ACTIVE_LEVEL" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=TSH1_17_LSNisActiveLow Variable=var_i2 Condition=3" 
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_LSNisActiveHigh" 
				Start "Wait for LSN to go High - Low" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=3 EvInputLevel=0" disabled
				"Free Text" "  // Define event : When the negative limit switch goes high->low\r\n  DISLSN;\r\n  !LSN;\r\n  ENLSN0;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_LSNisActiveLow" 
				Start "Wait for LSN to go Low - High" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=3 EvInputLevel=1" disabled
				"Free Text" "  // Define event : When the negative limit switch goes low->high\r\n  DISLSN;\r\n  !LSN;\r\n  ENLSN1;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			End
		End
		Start "Check homing nr parity and reset CPOS" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_17_Homing_Number_Parity" 
			Start "Is Homing Number EVEN ?" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_17_Home1_Init_1 Variable=var_i3 Condition=3" 
			End
			Start "Homing Number Is ODD" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_177_Neg_Transm_1 Variable=Transmission Condition=1" 
			"Jumps and Function Calls" "Type=3" 
			End
			Start "Homing Number is EVEN" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_17_Home1_Init_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_177_Neg_Transm_1 Variable=Transmission Condition=1" 
			"Jumps and Function Calls" "Type=3" 
			End
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_177_Neg_Transm_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Jumps and Function Calls" "Type=3" 
			End
		End
		Start "Check_Special_IOs_Status" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_17_Check_Special_IO_Status" 
		"Free Text" "/* This function returns var_i2>0 if special_IO_status >0 only for the monitored limit switch. */\r\n" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Determine homing number parity" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_17_LimitSwitchNegative Variable=var_i3 Condition=3" 
			End
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
		"Jumps and Function Calls" "Type=3" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_17_LimitSwitchNegative" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
		"Jumps and Function Calls" "Type=3" 
		End
	End
	Start "home18" disabled
	"Free Text" "/* Homing without an index pulse. Move positive until the positive limit switch is reached. Reverse and stop at positive limit switch active-inactive transition. */" 
		Start "Setting parameters" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_18_Homing_Number_Parity" 
		End
		Start "Verify if limit switch is active" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_18_Check_Special_IO_Status" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_18_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
		End
		Start "Start Moving High Speed" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
		End
		Start "Verify if limit switch is active" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_18_Check_Special_IO_Status" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_18_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
		End
		Start "Limit Switch inactive - move negative for 1,17 and positive for 2,18" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_18_LimitSwitch_Inactive_1" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-CPOS SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=1 Label=TSH1_18_Wait_LS_transition_1" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=17" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_18_Skip_Waitindex Variable=var_i3 Condition=5" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_18_Waitindex" 
		End
		Start "Limit Switch active - reverse and move slowly" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_18_LimitSwitch_Active_1" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
		"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		End
		Start "Wait for first index transition(1,2) or stop at limit switch transition(17,18)" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=17" 
		"Jumps and Function Calls" "Type=0 Label=TSH1_18_homing_17_or_18 Variable=var_i3 Condition=5" 
			Start "TSH1_18 Waitindex" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_18_Waitindex" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=THS1_18_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"Jumps and Function Calls" "Type=0 Label=THS1_18_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=THS1_18_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"Jumps and Function Calls" "Type=6 Label=THS1_18_Waitindex_onFDBK1" 
					End
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_18_Skip_Waitindex" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "Verify if limit switch is active again" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_18_Check_Special_IO_Status" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_18_Homing_Number_Parity Variable=var_i2 Condition=3" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_18_LimitSwitch_Active_1 Variable=var_i2 Condition=3" 
			End
		"Jumps and Function Calls" "Type=0 Label=TSH1_18_exit_H" 
			Start "Homing 17 or 18" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_18_homing_17_or_18" 
			"Jumps and Function Calls" "Type=1 Label=TSH1_18_Wait_LS_transition_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
		End
		Start "Restore LSACTIVE and exit homing" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_18_exit_H" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_18_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_18_exit_H2" 
			End
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "TSH1_18 Wait LS transition 1" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_18_Wait_LS_transition_1" 
			Start "Find Homing Nr. Parity" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_18_Homing_mode_1_LSN_1 Variable=var_i3 Condition=3" 
			End
			Start "Wait LSP to change status" 
				Start "Read DIGIN_ACTIVE_LEVEL.13 to determine what LSP transition to be expected next" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=DIGIN_ACTIVE_LEVEL" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=TSH1_18_LSPisActiveLow Variable=var_i2 Condition=3" 
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_18_LSPisActiveHigh" 
				Start "Wait for LSP to go High - Low" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=2 EvInputLevel=0" disabled
				"Free Text" "  // Define event : When the positive limit switch goes high->low\r\n  DISLSP;\r\n  !LSP;\r\n  ENLSP0;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_18_LSPisActiveLow" 
				Start "Wait for LSP to go Low - High" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=2 EvInputLevel=1" disabled
				"Free Text" "  // Define event : When the positive limit switch goes low->high\r\n  DISLSP;\r\n  !LSP;\r\n  ENLSP1;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			End
		"Jumps and Function Calls" "Type=6 Label=TSH1_18_Homing_mode_1_LSN_1" 
			Start "Wait LSN to change status" 
				Start "Read DIGIN_ACTIVE_LEVEL.14 to determine what LSN transition to be expected next" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=DIGIN_ACTIVE_LEVEL" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=TSH1_18_LSNisActiveLow Variable=var_i2 Condition=3" 
				End
			"Jumps and Function Calls" "Type=6 Label=TSH1_18_LSNisActiveHigh" 
				Start "Wait for LSN to go High - Low" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=3 EvInputLevel=0" disabled
				"Free Text" "  // Define event : When the negative limit switch goes high->low\r\n  DISLSN;\r\n  !LSN;\r\n  ENLSN0;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_18_LSNisActiveLow" 
				Start "Wait for LSN to go Low - High" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=3 EvInputLevel=1" disabled
				"Free Text" "  // Define event : When the negative limit switch goes low->high\r\n  DISLSN;\r\n  !LSN;\r\n  ENLSN1;\r\n  WAIT!; // Wait until the event occurs" 
				End
			"Jumps and Function Calls" "Type=3" 
			End
		End
		Start "Check homing nr parity and reset CPOS" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_18_Homing_Number_Parity" 
			Start "Is Homing Number EVEN ?" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_18_Home1_Init_1 Variable=var_i3 Condition=3" 
			End
			Start "Homing Number Is ODD" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_187_Neg_Transm_1 Variable=Transmission Condition=1" 
			"Jumps and Function Calls" "Type=3" 
			End
			Start "Homing Number is EVEN" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_18_Home1_Init_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_187_Neg_Transm_1 Variable=Transmission Condition=1" 
			"Jumps and Function Calls" "Type=3" 
			End
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=6 Label=TSH1_187_Neg_Transm_1" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Jumps and Function Calls" "Type=3" 
			End
		End
		Start "Check_Special_IOs_Status" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_18_Check_Special_IO_Status" 
		"Free Text" "/* This function returns var_i2>0 if special_IO_status >0 only for the monitored limit switch. */\r\n" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Determine homing number parity" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH1_18_LimitSwitchNegative Variable=var_i3 Condition=3" 
			End
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
		"Jumps and Function Calls" "Type=3" 
		"Jumps and Function Calls" "Type=6 Label=TSH1_18_LimitSwitchNegative" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
		"Jumps and Function Calls" "Type=3" 
		End
	End
	Start "home19" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is negative if the home switch is high. Otherwise, initial movement is positive, then movement is reversed after home switch low-high transition. Stop at the home switch high-low transition. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H19_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H19_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H19_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H19_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H19_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H19_TSH3_Start" 
		"Jumps and Function Calls" "Type=6 Label=H19_Homing_Mode_3_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H19_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H19_TSH3_Start" 
		End
		Start "If Home high(3,5,19,21) or low(4,6,20,22) move normal; if home low(3,5,19,21) or high(4,6,20,22) move reverse" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
		"Jumps and Function Calls" "Type=0 Label=H19_THS3_Home_reverse Variable=var_i2 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H19_THS3_reverse Variable=var_i3 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H19_THS3_normal" 
		"Jumps and Function Calls" "Type=6 Label=H19_THS3_Home_reverse" 
		"Jumps and Function Calls" "Type=0 Label=H19_THS3_reverse Variable=var_i3 Condition=3" 
		End
		Start "Move normal negative(3,6,19,22) or positive(4,5,20,21) then slow down at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H19_THS3_normal" 
			Start "Start moving" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H19_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H19_THS3_HomeTrans Variable=var_i3 Condition=5" 
				Start "Move slowly in the same direction and wait for the first index transition" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Motor Commands" "Type=3" 
				End
			"Jumps and Function Calls" "Type=0 Label=H19_THS3_WaitIndex" 
			End
		End
		Start "Move reverse positive(3,6,19,22) or negative(4,5,20,21)  then reverse at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H19_THS3_reverse" 
			Start "Move reverse" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H19_TSH3_Home_change_status" 
			End
			Start "Reverse again at home switch transition and move slowly" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H19_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H19_THS3_HomeTrans Variable=var_i3 Condition=5" 
			"Jumps and Function Calls" "Type=0 Label=H19_THS3_WaitIndex" 
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H19_THS3_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H19_THS3_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H19_THS3_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H19_THS3_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H19_THS3_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_19_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_19_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home input to change status." 
		"Jumps and Function Calls" "Type=6 Label=H19_TSH3_Home_change_status" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			Start "If Home is low, then go to Home is 0" 
			"Jumps and Function Calls" "Type=0 Label=H19_TSH3_Homeis0 Variable=var_i2 Condition=0" 
			End
			Start "Wait for Home input to go High - Low" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
			End
		"Jumps and Function Calls" "Type=0 Label=H19_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=6 Label=H19_TSH3_Homeis0" 
			Start "Wait forHome input to go Low - High" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
			End
		"Jumps and Function Calls" "Type=6 Label=H19_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H19_THS3_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H19_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H19_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H19_TSH3_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_19_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_19_exit_H3" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home20" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is positive if the home switch is low. Otherwise, initial movement is negative, then movement is reversed after home switch high-low transition. Stop at the home switch low-high transition. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H20_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H20_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H20_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H20_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H20_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H20_TSH3_Start" 
		"Jumps and Function Calls" "Type=6 Label=H20_Homing_Mode_3_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H20_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H20_TSH3_Start" 
		End
		Start "If Home high(3,5,19,21) or low(4,6,20,22) move normal; if home low(3,5,19,21) or high(4,6,20,22) move reverse" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
		"Jumps and Function Calls" "Type=0 Label=H20_THS3_Home_reverse Variable=var_i2 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H20_THS3_reverse Variable=var_i3 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H20_THS3_normal" 
		"Jumps and Function Calls" "Type=6 Label=H20_THS3_Home_reverse" 
		"Jumps and Function Calls" "Type=0 Label=H20_THS3_reverse Variable=var_i3 Condition=3" 
		End
		Start "Move normal negative(3,6,19,22) or positive(4,5,20,21) then slow down at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H20_THS3_normal" 
			Start "Start moving" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H20_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H20_THS3_HomeTrans Variable=var_i3 Condition=5" 
				Start "Move slowly in the same direction and wait for the first index transition" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Motor Commands" "Type=3" 
				End
			"Jumps and Function Calls" "Type=0 Label=H20_THS3_WaitIndex" 
			End
		End
		Start "Move reverse positive(3,6,19,22) or negative(4,5,20,21)  then reverse at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H20_THS3_reverse" 
			Start "Move reverse" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H20_TSH3_Home_change_status" 
			End
			Start "Reverse again at home switch transition and move slowly" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H20_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H20_THS3_HomeTrans Variable=var_i3 Condition=5" 
			"Jumps and Function Calls" "Type=0 Label=H20_THS3_WaitIndex" 
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H20_THS3_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H20_THS3_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H20_THS3_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H20_THS3_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H20_THS3_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_20_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_20_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home input to change status." 
		"Jumps and Function Calls" "Type=6 Label=H20_TSH3_Home_change_status" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			Start "If Home is low, then go to Home is 0" 
			"Jumps and Function Calls" "Type=0 Label=H20_TSH3_Homeis0 Variable=var_i2 Condition=0" 
			End
			Start "Wait for Home input to go High - Low" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
			End
		"Jumps and Function Calls" "Type=0 Label=H20_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=6 Label=H20_TSH3_Homeis0" 
			Start "Wait forHome input to go Low - High" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
			End
		"Jumps and Function Calls" "Type=6 Label=H20_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H20_THS3_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H20_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H20_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H20_TSH3_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_20_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_20_exit_H3" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home21" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is positive if the home switch is high. Otherwise, initial movement is negative, then movement is reversed after home switch low-high transition. Stop at home switch high-low transition. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H21_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H21_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H21_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H21_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H21_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H21_TSH3_Start" 
		"Jumps and Function Calls" "Type=6 Label=H21_Homing_Mode_3_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H21_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H21_TSH3_Start" 
		End
		Start "If Home high(3,5,19,21) or low(4,6,20,22) move normal; if home low(3,5,19,21) or high(4,6,20,22) move reverse" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
		"Jumps and Function Calls" "Type=0 Label=H21_THS3_Home_reverse Variable=var_i2 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H21_THS3_reverse Variable=var_i3 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H21_THS3_normal" 
		"Jumps and Function Calls" "Type=6 Label=H21_THS3_Home_reverse" 
		"Jumps and Function Calls" "Type=0 Label=H21_THS3_reverse Variable=var_i3 Condition=3" 
		End
		Start "Move normal negative(3,6,19,22) or positive(4,5,20,21) then slow down at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H21_THS3_normal" 
			Start "Start moving" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H21_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H21_THS3_HomeTrans Variable=var_i3 Condition=5" 
				Start "Move slowly in the same direction and wait for the first index transition" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Motor Commands" "Type=3" 
				End
			"Jumps and Function Calls" "Type=0 Label=H21_THS3_WaitIndex" 
			End
		End
		Start "Move reverse positive(3,6,19,22) or negative(4,5,20,21)  then reverse at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H21_THS3_reverse" 
			Start "Move reverse" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H21_TSH3_Home_change_status" 
			End
			Start "Reverse again at home switch transition and move slowly" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H21_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H21_THS3_HomeTrans Variable=var_i3 Condition=5" 
			"Jumps and Function Calls" "Type=0 Label=H21_THS3_WaitIndex" 
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H21_THS3_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H21_THS3_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H21_THS3_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H21_THS3_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H21_THS3_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_21_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_21_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home input to change status." 
		"Jumps and Function Calls" "Type=6 Label=H21_TSH3_Home_change_status" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			Start "If Home is low, then go to Home is 0" 
			"Jumps and Function Calls" "Type=0 Label=H21_TSH3_Homeis0 Variable=var_i2 Condition=0" 
			End
			Start "Wait for Home input to go High - Low" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
			End
		"Jumps and Function Calls" "Type=0 Label=H21_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=6 Label=H21_TSH3_Homeis0" 
			Start "Wait forHome input to go Low - High" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
			End
		"Jumps and Function Calls" "Type=6 Label=H21_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H21_THS3_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H21_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H21_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H21_TSH3_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_21_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_21_exit_H3" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home22" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is negative if the home switch is low. Otherwise, initial movement is positive, then movement is reversed after home switch high-low transition. Stop at the home switch low-high transition. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H22_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H22_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H22_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H22_Homing_Mode_3_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H22_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H22_TSH3_Start" 
		"Jumps and Function Calls" "Type=6 Label=H22_Homing_Mode_3_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H22_TSH3_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H22_TSH3_Start" 
		End
		Start "If Home high(3,5,19,21) or low(4,6,20,22) move normal; if home low(3,5,19,21) or high(4,6,20,22) move reverse" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
		"Jumps and Function Calls" "Type=0 Label=H22_THS3_Home_reverse Variable=var_i2 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H22_THS3_reverse Variable=var_i3 Condition=0" 
		"Jumps and Function Calls" "Type=0 Label=H22_THS3_normal" 
		"Jumps and Function Calls" "Type=6 Label=H22_THS3_Home_reverse" 
		"Jumps and Function Calls" "Type=0 Label=H22_THS3_reverse Variable=var_i3 Condition=3" 
		End
		Start "Move normal negative(3,6,19,22) or positive(4,5,20,21) then slow down at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H22_THS3_normal" 
			Start "Start moving" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H22_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H22_THS3_HomeTrans Variable=var_i3 Condition=5" 
				Start "Move slowly in the same direction and wait for the first index transition" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Motor Commands" "Type=3" 
				End
			"Jumps and Function Calls" "Type=0 Label=H22_THS3_WaitIndex" 
			End
		End
		Start "Move reverse positive(3,6,19,22) or negative(4,5,20,21)  then reverse at home switch status change" 
		"Jumps and Function Calls" "Type=6 Label=H22_THS3_reverse" 
			Start "Move reverse" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H22_TSH3_Home_change_status" 
			End
			Start "Reverse again at home switch transition and move slowly" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
			End
			Start "Wait for home switch  to be reached" 
			"Jumps and Function Calls" "Type=1 Label=H22_TSH3_Home_change_status" 
			End
			Start "Go to \"Wait Index\" for(3,4,5,6) or \"Wait for home switch\" for(19,20,21,22)" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=15" 
			"Jumps and Function Calls" "Type=0 Label=H22_THS3_HomeTrans Variable=var_i3 Condition=5" 
			"Jumps and Function Calls" "Type=0 Label=H22_THS3_WaitIndex" 
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H22_THS3_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H22_THS3_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H22_THS3_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H22_THS3_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H22_THS3_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_22_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_22_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home input to change status." 
		"Jumps and Function Calls" "Type=6 Label=H22_TSH3_Home_change_status" 
		"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			Start "If Home is low, then go to Home is 0" 
			"Jumps and Function Calls" "Type=0 Label=H22_TSH3_Homeis0 Variable=var_i2 Condition=0" 
			End
			Start "Wait for Home input to go High - Low" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
			End
		"Jumps and Function Calls" "Type=0 Label=H22_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=6 Label=H22_TSH3_Homeis0" 
			Start "Wait forHome input to go Low - High" 
			"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
			End
		"Jumps and Function Calls" "Type=6 Label=H22_TSH3_Home_changed" 
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H22_THS3_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H22_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H22_TSH3_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H22_TSH3_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH3_22_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH3_22_exit_H3" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home23" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is positive if the home switch is low, otherwise is negative. If moving positive, wait for either the home switch low-high transition or the positive limit switch, then reverse movement. While moving negative, stop at the home switch high-low transition. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=7" 
		"Jumps and Function Calls" "Type=0 Label=H23_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H23_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H23_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H23_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H23_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H23_TSH7_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H23_TSH7_Hm_Mode_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H23_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H23_TSH7_Start_Homing" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H23_TSH7_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H23_TSH7_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H23_TSH7_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H23_TSH7_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H23_TSH7_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H23_TSH7_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H23_TSH7_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H23_TSH7_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(7,10,23,26) or positive(11,14,27,30)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H23_TSH7_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H23_TSH7_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(11,14,27,30) or positive(7,10,23,26), else home input high move negative(11,10, 27,26) or negative(7,14,23,30)" 
			"Jumps and Function Calls" "Type=0 Label=H23_TSH7_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(7,14,23,30) or positive(10,11,26,27) slowly until the home switch transition is reached, position at left" 
				Start "For 10,14,26,30 invert parameter CPOS(move positive(10,11,26,27) or negative(7,14,23,30))" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H23_TSH7_noninvert2 Variable=var_i3 Condition=3" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Jumps and Function Calls" "Type=6 Label=H23_TSH7_noninvert2" 
				End
				Start "Start moving slowly" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
				"Jumps and Function Calls" "Type=0 Label=H23_TSH7_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H23_TSH7_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(7,10,23,26) or negative(11,14,27,30)." 
			"Jumps and Function Calls" "Type=6 Label=H23_TSH7_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Start moving" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached or limit switch become active" 
				"Jumps and Function Calls" "Type=6 Label=H23_TSH7_start" 
				"Jumps and Function Calls" "Type=0 Label=H23_TSH7_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H23_TSH7_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H23_TSH7_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H23_TSH7_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H23_TSH7_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H23_TSH7_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H23_TSH7_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H23_TSH7_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H23_TSH7_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H23_TSH7_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H23_TSH7_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H23_TSH7_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H23_TSH7_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H23_TSH7_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(10,11,26,27) or negative(7,14,23,30) slowly without reaching the LSP, position at left of home switch transition" 
					Start "For 7,11,23,27 invert parameter CPOS move slowly positive(10,11,26,27) or negative(7,14,23,30) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H23_TSH7_noninvert Variable=var_i3 Condition=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H23_TSH7_noninvert" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H23_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H23_TSH7_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(7,10,21,24) or positive (11,14,25,28) and after home switch transition move slowly negative(7,14,21,28) or positive(10,11,24,25)" 
				"Jumps and Function Calls" "Type=6 Label=H23_TSH7_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "For 10,14,26,30 invert parameter CPOS move slowly negative(7,14,23,30) or positive(10,11,26,27) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H23_TSH7_noninvert3 Variable=var_i3 Condition=3" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H23_TSH7_noninvert3" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H23_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H23_TSH7_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H23_TSH7_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H23_THS7_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H23_THS7_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H23_THS7_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H23_THS7_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_23_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_23_exit_H2" 
			End
			Start "Restore ASR and LSACITVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H23_TSH7_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H23_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H23_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H23_TSH7_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_23_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_23_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home24" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is positive if the home switch is low, otherwise is negative. If moving negative, wait for the home switch high-low transition, then reverse movement. Movement is also reversed if the positive limit switch is reached. While moving positive, stop at the home switch low-high transition. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=8" 
		"Jumps and Function Calls" "Type=0 Label=H24_TSH8_Hom_Mode_8_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=16" 
		"Jumps and Function Calls" "Type=0 Label=H24_TSH8_Hom_Mode_8_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H24_TSH8_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H24_TSH8_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H24_TSH8_Hom_Mode_8_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H24_TSH8_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H24_TSH8_Start_Homing" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H24_TSH8_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H24_TSH8_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H24_TSH8_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H24_TSH8_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H24_TSH8_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H24_TSH8_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H24_TSH8_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H24_TSH8_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(8,24) or positive(12,28)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H24_TSH8_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H24_TSH8_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(12,28) or positive(8,24), else home input high move negative(8,24) or negative(12,28)" 
			"Jumps and Function Calls" "Type=0 Label=H24_TSH8_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(8,24) or positive(12,28) slowly until the home switch transition is reached, position at left" 
				Start "Move negative(8,24) or positive(12,28)" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Move positive slowly (8,24) or negative(12,28)" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Motor Commands" "Type=3" 
				End
				Start "Wait for home switch position to be reached" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
				End
				Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(24,28)" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
				"Jumps and Function Calls" "Type=0 Label=H24_TSH8_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H24_TSH8_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(8,24) or negative(12,28)." 
			"Jumps and Function Calls" "Type=6 Label=H24_TSH8_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Move positive(8,24) or negative(12,28)" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached" 
				"Jumps and Function Calls" "Type=6 Label=H24_TSH8_start" 
				"Jumps and Function Calls" "Type=0 Label=H24_TSH8_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H24_TSH8_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H24_TSH8_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H24_TSH8_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H24_TSH8_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H24_TSH8_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H24_TSH8_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H24_TSH8_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H24_TSH8_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H24_TSH8_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H24_TSH8_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H24_TSH8_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H24_TSH8_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H24_TSH8_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(12,26) or negative(8,22) slowly without reaching the LSP, position at left of home switch transition" 
					Start "Start moving slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"Motor Commands" "Type=3" 
					End
					Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(24,28)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
					"Jumps and Function Calls" "Type=0 Label=H24_TSH8_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H24_TSH8_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(8,24) or positive (12,28) and after home switch transition move slowly negative(12,28) or positive(8,24)" 
				"Jumps and Function Calls" "Type=6 Label=H24_TSH8_wait_homeswitch" 
					Start "Wait for home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Start moving slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(22,26)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
					"Jumps and Function Calls" "Type=0 Label=H24_TSH8_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H24_TSH8_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H24_TSH8_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H24_THS8_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H24_THS8_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H24_THS8_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H24_THS8_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH8_24_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH8_24_exit_H2" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H24_TSH8_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H24_TSH8_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H24_TSH8_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H24_TSH8_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH8_24_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH8_24_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home25" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is positive. Reverse either after the home switch high-low transition or if the positive limit switch is reached. While moving negative, stop at the home switch low-high transition. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=9" 
		"Jumps and Function Calls" "Type=0 Label=H25_TSH9_Hom_Mode_9_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=16" 
		"Jumps and Function Calls" "Type=0 Label=H25_TSH9_Hom_Mode_9_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H25_TSH9_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H25_TSH9_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H25_TSH9_Hom_Mode_9_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H25_TSH9_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H25_TSH9_Start_Homing" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H25_TSH9_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H25_TSH9_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H25_TSH9_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H25_TSH9_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H25_TSH9_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H25_TSH9_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H25_TSH9_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H25_TSH9_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(9,25) or positive(13,29)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H25_TSH9_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H25_TSH9_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(13,29) or positive(9,25), else home input high move negative(9,25) or negative(13,29)" 
			"Jumps and Function Calls" "Type=0 Label=H25_TSH9_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(13,29) or positive(9,25) slowly until the home switch transition is reached, position at left" 
				Start "Start moving" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Reverse slowly " 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Motor Commands" "Type=3" 
				End
				Start "Wait for home switch position to be reached" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
				End
				Start "Go to \"Wait Index\" for(9,25) or \"Wait for home switch\" for(13,29)" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=25" 
				"Jumps and Function Calls" "Type=0 Label=H25_TSH9_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H25_TSH9_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(9,25) or negative(13,29)." 
			"Jumps and Function Calls" "Type=6 Label=H25_TSH9_positive" 
				Start "Start moving" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached" 
				"Jumps and Function Calls" "Type=6 Label=H25_TSH9_start" 
				"Jumps and Function Calls" "Type=0 Label=H25_TSH9_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H25_TSH9_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H25_TSH9_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H25_TSH9_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H25_TSH9_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H25_TSH9_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H25_TSH9_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H25_TSH9_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H25_TSH9_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H25_TSH9_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H25_TSH9_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H25_TSH9_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H25_TSH9_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H25_TSH9_start Variable=var_i2 Condition=0" 
				End
				Start "Move positive(13,29) or negative(9,25) without reaching the LS, position at left of home switch transition" 
					Start "Wait for the home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Move slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(9,23) or \"Wait for home switch\" for(13,27)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=23" 
					"Jumps and Function Calls" "Type=0 Label=H25_TSH9_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H25_TSH9_WaitIndex" 
					End
				End
				Start "Move negative and move slowly after home switch transition" 
				"Jumps and Function Calls" "Type=6 Label=H25_TSH9_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(9,25) or \"Wait for home switch\" for(13,29)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=25" 
					"Jumps and Function Calls" "Type=0 Label=H25_TSH9_HomeTrans Variable=var_i3 Condition=5" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"Motor Commands" "Type=3" 
					"Jumps and Function Calls" "Type=0 Label=H25_TSH9_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H25_TSH9_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H25_THS9_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H25_THS9_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H25_THS9_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H25_THS9_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH9_25_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH9_25_exit_H2" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H25_TSH9_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H25_TSH9_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H25_TSH9_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H25_TSH9_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH9_25_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH9_25_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home26" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is positive. Reverse if the positive limit switch is reached, then reverse once again after home switch low-high transition. While moving positive, stop at the home switch high-low transition. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=7" 
		"Jumps and Function Calls" "Type=0 Label=H26_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H26_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H26_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H26_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H26_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H26_TSH7_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H26_TSH7_Hm_Mode_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H26_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H26_TSH7_Start_Homing" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H26_TSH7_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H26_TSH7_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H26_TSH7_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H26_TSH7_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H26_TSH7_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H26_TSH7_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H26_TSH7_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H26_TSH7_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(7,10,23,26) or positive(11,14,27,30)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H26_TSH7_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H26_TSH7_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(11,14,27,30) or positive(7,10,23,26), else home input high move negative(11,10, 27,26) or negative(7,14,23,30)" 
			"Jumps and Function Calls" "Type=0 Label=H26_TSH7_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(7,14,23,30) or positive(10,11,26,27) slowly until the home switch transition is reached, position at left" 
				Start "For 10,14,26,30 invert parameter CPOS(move positive(10,11,26,27) or negative(7,14,23,30))" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H26_TSH7_noninvert2 Variable=var_i3 Condition=3" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Jumps and Function Calls" "Type=6 Label=H26_TSH7_noninvert2" 
				End
				Start "Start moving slowly" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
				"Jumps and Function Calls" "Type=0 Label=H26_TSH7_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H26_TSH7_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(7,10,23,26) or negative(11,14,27,30)." 
			"Jumps and Function Calls" "Type=6 Label=H26_TSH7_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Start moving" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached or limit switch become active" 
				"Jumps and Function Calls" "Type=6 Label=H26_TSH7_start" 
				"Jumps and Function Calls" "Type=0 Label=H26_TSH7_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H26_TSH7_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H26_TSH7_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H26_TSH7_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H26_TSH7_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H26_TSH7_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H26_TSH7_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H26_TSH7_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H26_TSH7_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H26_TSH7_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H26_TSH7_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H26_TSH7_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H26_TSH7_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H26_TSH7_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(10,11,26,27) or negative(7,14,23,30) slowly without reaching the LSP, position at left of home switch transition" 
					Start "For 7,11,23,27 invert parameter CPOS move slowly positive(10,11,26,27) or negative(7,14,23,30) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H26_TSH7_noninvert Variable=var_i3 Condition=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H26_TSH7_noninvert" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H26_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H26_TSH7_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(7,10,21,24) or positive (11,14,25,28) and after home switch transition move slowly negative(7,14,21,28) or positive(10,11,24,25)" 
				"Jumps and Function Calls" "Type=6 Label=H26_TSH7_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "For 10,14,26,30 invert parameter CPOS move slowly negative(7,14,23,30) or positive(10,11,26,27) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H26_TSH7_noninvert3 Variable=var_i3 Condition=3" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H26_TSH7_noninvert3" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H26_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H26_TSH7_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H26_TSH7_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H26_THS7_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H26_THS7_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H26_THS7_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H26_THS7_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_26_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_26_exit_H2" 
			End
			Start "Restore ASR and LSACITVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H26_TSH7_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H26_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H26_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H26_TSH7_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_26_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_26_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home27" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is negative if the home switch is low, otherwise is positive. If moving negative, wait for either the home swith low-high transition or the negative limit switch, then reverse movement. While moving positive, stop at the home switch high-low transition. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=7" 
		"Jumps and Function Calls" "Type=0 Label=H27_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H27_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H27_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H27_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H27_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H27_TSH7_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H27_TSH7_Hm_Mode_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H27_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H27_TSH7_Start_Homing" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H27_TSH7_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H27_TSH7_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H27_TSH7_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H27_TSH7_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H27_TSH7_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H27_TSH7_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H27_TSH7_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H27_TSH7_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(7,10,23,26) or positive(11,14,27,30)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H27_TSH7_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H27_TSH7_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(11,14,27,30) or positive(7,10,23,26), else home input high move negative(11,10, 27,26) or negative(7,14,23,30)" 
			"Jumps and Function Calls" "Type=0 Label=H27_TSH7_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(7,14,23,30) or positive(10,11,26,27) slowly until the home switch transition is reached, position at left" 
				Start "For 10,14,26,30 invert parameter CPOS(move positive(10,11,26,27) or negative(7,14,23,30))" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H27_TSH7_noninvert2 Variable=var_i3 Condition=3" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Jumps and Function Calls" "Type=6 Label=H27_TSH7_noninvert2" 
				End
				Start "Start moving slowly" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
				"Jumps and Function Calls" "Type=0 Label=H27_TSH7_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H27_TSH7_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(7,10,23,26) or negative(11,14,27,30)." 
			"Jumps and Function Calls" "Type=6 Label=H27_TSH7_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Start moving" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached or limit switch become active" 
				"Jumps and Function Calls" "Type=6 Label=H27_TSH7_start" 
				"Jumps and Function Calls" "Type=0 Label=H27_TSH7_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H27_TSH7_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H27_TSH7_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H27_TSH7_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H27_TSH7_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H27_TSH7_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H27_TSH7_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H27_TSH7_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H27_TSH7_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H27_TSH7_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H27_TSH7_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H27_TSH7_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H27_TSH7_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H27_TSH7_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(10,11,26,27) or negative(7,14,23,30) slowly without reaching the LSP, position at left of home switch transition" 
					Start "For 7,11,23,27 invert parameter CPOS move slowly positive(10,11,26,27) or negative(7,14,23,30) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H27_TSH7_noninvert Variable=var_i3 Condition=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H27_TSH7_noninvert" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H27_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H27_TSH7_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(7,10,21,24) or positive (11,14,25,28) and after home switch transition move slowly negative(7,14,21,28) or positive(10,11,24,25)" 
				"Jumps and Function Calls" "Type=6 Label=H27_TSH7_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "For 10,14,26,30 invert parameter CPOS move slowly negative(7,14,23,30) or positive(10,11,26,27) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H27_TSH7_noninvert3 Variable=var_i3 Condition=3" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H27_TSH7_noninvert3" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H27_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H27_TSH7_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H27_TSH7_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H27_THS7_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H27_THS7_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H27_THS7_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H27_THS7_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_27_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_27_exit_H2" 
			End
			Start "Restore ASR and LSACITVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H27_TSH7_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H27_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H27_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H27_TSH7_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_27_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_27_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home28" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is negative if the home switch is low, otherwise is positive. If moving positive, wait for the home switch high-low transition, then reverse movement. Movement is also reversed if the negative limit switch is reached. While moving negative, stop at the home switch low-high transition. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=8" 
		"Jumps and Function Calls" "Type=0 Label=H28_TSH8_Hom_Mode_8_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=16" 
		"Jumps and Function Calls" "Type=0 Label=H28_TSH8_Hom_Mode_8_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H28_TSH8_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H28_TSH8_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H28_TSH8_Hom_Mode_8_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H28_TSH8_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H28_TSH8_Start_Homing" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H28_TSH8_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H28_TSH8_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H28_TSH8_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H28_TSH8_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H28_TSH8_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H28_TSH8_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H28_TSH8_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H28_TSH8_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(8,24) or positive(12,28)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H28_TSH8_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H28_TSH8_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(12,28) or positive(8,24), else home input high move negative(8,24) or negative(12,28)" 
			"Jumps and Function Calls" "Type=0 Label=H28_TSH8_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(8,24) or positive(12,28) slowly until the home switch transition is reached, position at left" 
				Start "Move negative(8,24) or positive(12,28)" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Move positive slowly (8,24) or negative(12,28)" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Motor Commands" "Type=3" 
				End
				Start "Wait for home switch position to be reached" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
				End
				Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(24,28)" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
				"Jumps and Function Calls" "Type=0 Label=H28_TSH8_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H28_TSH8_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(8,24) or negative(12,28)." 
			"Jumps and Function Calls" "Type=6 Label=H28_TSH8_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Move positive(8,24) or negative(12,28)" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached" 
				"Jumps and Function Calls" "Type=6 Label=H28_TSH8_start" 
				"Jumps and Function Calls" "Type=0 Label=H28_TSH8_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H28_TSH8_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H28_TSH8_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H28_TSH8_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H28_TSH8_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H28_TSH8_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H28_TSH8_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H28_TSH8_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H28_TSH8_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H28_TSH8_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H28_TSH8_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H28_TSH8_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H28_TSH8_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H28_TSH8_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(12,26) or negative(8,22) slowly without reaching the LSP, position at left of home switch transition" 
					Start "Start moving slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"Motor Commands" "Type=3" 
					End
					Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(24,28)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
					"Jumps and Function Calls" "Type=0 Label=H28_TSH8_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H28_TSH8_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(8,24) or positive (12,28) and after home switch transition move slowly negative(12,28) or positive(8,24)" 
				"Jumps and Function Calls" "Type=6 Label=H28_TSH8_wait_homeswitch" 
					Start "Wait for home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Start moving slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(8,12) or \"Wait for home switch\" for(22,26)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=24" 
					"Jumps and Function Calls" "Type=0 Label=H28_TSH8_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H28_TSH8_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H28_TSH8_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H28_THS8_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H28_THS8_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H28_THS8_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H28_THS8_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH8_28_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH8_28_exit_H2" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H28_TSH8_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H28_TSH8_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H28_TSH8_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H28_TSH8_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH8_28_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH8_28_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home29" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is negative. Reverse either after the home switch high-low transition or if the negative limit switch is reached. While moving positive, stop at the home switch low-high transition. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=9" 
		"Jumps and Function Calls" "Type=0 Label=H29_TSH9_Hom_Mode_9_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=16" 
		"Jumps and Function Calls" "Type=0 Label=H29_TSH9_Hom_Mode_9_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H29_TSH9_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H29_TSH9_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H29_TSH9_Hom_Mode_9_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H29_TSH9_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H29_TSH9_Start_Homing" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H29_TSH9_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H29_TSH9_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H29_TSH9_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H29_TSH9_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H29_TSH9_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H29_TSH9_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H29_TSH9_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H29_TSH9_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(9,25) or positive(13,29)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H29_TSH9_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H29_TSH9_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(13,29) or positive(9,25), else home input high move negative(9,25) or negative(13,29)" 
			"Jumps and Function Calls" "Type=0 Label=H29_TSH9_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(13,29) or positive(9,25) slowly until the home switch transition is reached, position at left" 
				Start "Start moving" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Reverse slowly " 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Motor Commands" "Type=3" 
				End
				Start "Wait for home switch position to be reached" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
				End
				Start "Go to \"Wait Index\" for(9,25) or \"Wait for home switch\" for(13,29)" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=25" 
				"Jumps and Function Calls" "Type=0 Label=H29_TSH9_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H29_TSH9_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(9,25) or negative(13,29)." 
			"Jumps and Function Calls" "Type=6 Label=H29_TSH9_positive" 
				Start "Start moving" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached" 
				"Jumps and Function Calls" "Type=6 Label=H29_TSH9_start" 
				"Jumps and Function Calls" "Type=0 Label=H29_TSH9_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H29_TSH9_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H29_TSH9_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H29_TSH9_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H29_TSH9_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H29_TSH9_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H29_TSH9_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H29_TSH9_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H29_TSH9_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H29_TSH9_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H29_TSH9_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H29_TSH9_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H29_TSH9_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H29_TSH9_start Variable=var_i2 Condition=0" 
				End
				Start "Move positive(13,29) or negative(9,25) without reaching the LS, position at left of home switch transition" 
					Start "Wait for the home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Move slowly" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(9,23) or \"Wait for home switch\" for(13,27)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=23" 
					"Jumps and Function Calls" "Type=0 Label=H29_TSH9_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H29_TSH9_WaitIndex" 
					End
				End
				Start "Move negative and move slowly after home switch transition" 
				"Jumps and Function Calls" "Type=6 Label=H29_TSH9_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "Go to \"Wait Index\" for(9,25) or \"Wait for home switch\" for(13,29)" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=25" 
					"Jumps and Function Calls" "Type=0 Label=H29_TSH9_HomeTrans Variable=var_i3 Condition=5" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"Motor Commands" "Type=3" 
					"Jumps and Function Calls" "Type=0 Label=H29_TSH9_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H29_TSH9_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H29_THS9_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H29_THS9_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H29_THS9_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H29_THS9_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH9_29_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH9_29_exit_H2" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H29_TSH9_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H29_TSH9_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H29_TSH9_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H29_TSH9_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH9_29_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH9_29_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "home30" disabled
	"Free Text" "/* Homing without an index pulse. Initial movement is negative. Reverse if the negative limit switch is reached, then reverse once again after home switch low-high transition. While moving negative, stop at the home switch high-low transition. */" 
		Start "Save ASR and LSACTIVE value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=lsactive 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=0 Source=0" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=7" 
		"Jumps and Function Calls" "Type=0 Label=H30_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H30_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=13" 
		"Jumps and Function Calls" "Type=0 Label=H30_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=3" 
		"Jumps and Function Calls" "Type=0 Label=H30_TSH7_Hm_Mode_Init Variable=var_i3 Condition=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H30_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H30_TSH7_Start_Homing" 
		"Jumps and Function Calls" "Type=6 Label=H30_TSH7_Hm_Mode_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H30_TSH7_Start_Homing Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H30_TSH7_Start_Homing" 
		End
		Start "Verify if limit switch is active" 
		"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
			Start "Monitor only homing specific Limit Switch 1" 
				Start "If negative transmission" 
				"Jumps and Function Calls" "Type=0 Label=H30_TSH7_1_skipping Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H30_TSH7_monitor_LSP_1 Variable=CPOS Condition=2" 
				"Jumps and Function Calls" "Type=6 Label=H30_TSH7_1_skipping" 
				End
			"Jumps and Function Calls" "Type=0 Label=H30_TSH7_monitor_LSP_1 Variable=CPOS Condition=1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H30_TSH7_verify_LS_1" 
			"Jumps and Function Calls" "Type=6 Label=H30_TSH7_monitor_LSP_1" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
			"Jumps and Function Calls" "Type=6 Label=H30_TSH7_verify_LS_1" 
			End
		"Jumps and Function Calls" "Type=0 Label=H30_TSH7_LimSw_Inactive Variable=var_i2 Condition=0" 
		End
		Start "Limit switch active move negative(7,10,23,26) or positive(11,14,27,30)" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		"Jumps and Function Calls" "Type=0 Label=H30_TSH7_wait_homeswitch" 
		End
		Start "Limit switch is inactive, verify home input status" 
		"Jumps and Function Calls" "Type=6 Label=H30_TSH7_LimSw_Inactive" 
			Start "Read home input status" 
			"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
			End
			Start "If home input is low then move negative(11,14,27,30) or positive(7,10,23,26), else home input high move negative(11,10, 27,26) or negative(7,14,23,30)" 
			"Jumps and Function Calls" "Type=0 Label=H30_TSH7_positive Variable=var_i2 Condition=0" 
			End
			Start "Home switch is high, move negative(7,14,23,30) or positive(10,11,26,27) slowly until the home switch transition is reached, position at left" 
				Start "For 10,14,26,30 invert parameter CPOS(move positive(10,11,26,27) or negative(7,14,23,30))" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H30_TSH7_noninvert2 Variable=var_i3 Condition=3" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				"Jumps and Function Calls" "Type=6 Label=H30_TSH7_noninvert2" 
				End
				Start "Start moving slowly" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached (transition high low)" 
				"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
				End
				Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
				"Jumps and Function Calls" "Type=0 Label=H30_TSH7_HomeTrans Variable=var_i3 Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H30_TSH7_WaitIndex" 
				End
			End
			Start "Home switch is low, move positive(7,10,23,26) or negative(11,14,27,30)." 
			"Jumps and Function Calls" "Type=6 Label=H30_TSH7_positive" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
				Start "Start moving" 
				"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
				End
				Start "Wait for home switch to be reached or limit switch become active" 
				"Jumps and Function Calls" "Type=6 Label=H30_TSH7_start" 
				"Jumps and Function Calls" "Type=0 Label=H30_TSH7_skipping" 
					Start "Reverse_Motion if limit switch active" 
					"Jumps and Function Calls" "Type=6 Label=H30_TSH7_reverse_motion" 
					"Events" "Stop=0 Wait=1 EvType=1 EvMCType=0 EvMCSetParameters=0" disabled
					"Free Text" "  !MC;\r\n  WAIT!; // Wait until the event occurs" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
					"Jumps and Function Calls" "Type=0 Label=H30_TSH7_wait_homeswitch" 
					End
				"Jumps and Function Calls" "Type=6 Label=H30_TSH7_skipping" 
					Start "Verify if limit switch is active" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=special_IOs_status" 
						Start "Monitor only homing specific Limit Switch 2" 
							Start "If negative transmission" 
							"Jumps and Function Calls" "Type=0 Label=H30_TSH7_2_skipping Variable=Transmission Condition=5" 
							"Jumps and Function Calls" "Type=0 Label=H30_TSH7_monitor_LSP_2 Variable=CPOS Condition=1" 
							"Jumps and Function Calls" "Type=6 Label=H30_TSH7_2_skipping" 
							End
						"Jumps and Function Calls" "Type=0 Label=H30_TSH7_monitor_LSP_2 Variable=CPOS Condition=2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H30_TSH7_verify_LS_2" 
						"Jumps and Function Calls" "Type=6 Label=H30_TSH7_monitor_LSP_2" 
						"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=2000 OR=0" 
						"Jumps and Function Calls" "Type=6 Label=H30_TSH7_verify_LS_2" 
						End
					"Jumps and Function Calls" "Type=0 Label=H30_TSH7_reverse_motion Variable=var_i2 Condition=3" 
					End
				"Jumps and Function Calls" "Type=6 Label=H30_TSH7_EndLimitSwitch" 
				"I/O" "Type=0 SimpleType=0 Port=0 Variable=var_i2 SetLineType=0" 
				"Jumps and Function Calls" "Type=0 Label=H30_TSH7_start Variable=var_i2 Condition=0" 
				End
				Start "Home switch reched and limit switch inactive move positive(10,11,26,27) or negative(7,14,23,30) slowly without reaching the LSP, position at left of home switch transition" 
					Start "For 7,11,23,27 invert parameter CPOS move slowly positive(10,11,26,27) or negative(7,14,23,30) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H30_TSH7_noninvert Variable=var_i3 Condition=0" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H30_TSH7_noninvert" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch position to be reached" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H30_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H30_TSH7_WaitIndex" 
					End
				End
				Start "Limit switch active move negative(7,10,21,24) or positive (11,14,25,28) and after home switch transition move slowly negative(7,14,21,28) or positive(10,11,24,25)" 
				"Jumps and Function Calls" "Type=6 Label=H30_TSH7_wait_homeswitch" 
					Start "Wait for the home switch transition low high" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=1" 
					End
					Start "For 10,14,26,30 invert parameter CPOS move slowly negative(7,14,23,30) or positive(10,11,26,27) " 
					"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H30_TSH7_noninvert3 Variable=var_i3 Condition=3" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
					"Jumps and Function Calls" "Type=6 Label=H30_TSH7_noninvert3" 
					"Motor Commands" "Type=3" 
					End
					Start "Wait for home switch transition high low" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=5 EvInputLevel=0" 
					End
					Start "Go to \"Wait Index\" for(7,10,11,14) or \"Wait for home switch\" for(23,26,27,30)" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
					"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=21" 
					"Jumps and Function Calls" "Type=0 Label=H30_TSH7_HomeTrans Variable=var_i3 Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H30_TSH7_WaitIndex" 
					End
				End
			End
		End
		Start "Wait_Index" 
		"Jumps and Function Calls" "Type=6 Label=H30_TSH7_WaitIndex" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H30_THS7_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H30_THS7_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H30_THS7_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H30_THS7_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_30_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_30_exit_H2" 
			End
			Start "Restore ASR and LSACITVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		"Jumps and Function Calls" "Type=3" 
		End
		Start "Wait Home switch transition " 
		"Jumps and Function Calls" "Type=6 Label=H30_TSH7_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=APOS SetVarType=0" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CAPPOS Source=TPOS SetVarType=0" 
			Start "If StepperOpenLoop configuration, CPOS=TPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H30_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=0" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
			"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=H30_TSH7_PosTo_HomeTrans Variable=var_i2 Condition=3" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
			End
		"Jumps and Function Calls" "Type=6 Label=H30_TSH7_PosTo_HomeTrans" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH7_30_exit_H3 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH7_30_exit_H3" 
			End
			Start "Restore ASR and LSACTIVE" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			"A 16-bit Integer" "Type=0 Destination=LSACTIVE SetVarType=2 32BitPart=0 Source=var_lf" 
			End
		End
	End
	Start "" disabled
	End
	Start "" disabled
	End
	Start "home33" disabled
	"Free Text" "/* Homing on the index pulse. Move negative and stop at the first index pulse. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"Jumps and Function Calls" "Type=0 Label=H33_Homing_Mode_33_Init Variable=var_i3 Condition=3" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H33_TSH33_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H33_TSH33_Start" 
		"Jumps and Function Calls" "Type=6 Label=H33_Homing_Mode_33_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H33_TSH33_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H33_TSH33_Start" 
		End
		Start "Start moving negative(33) or positive(34)" 
		"A 16-bit Integer" "Type=0 Destination=CSPD SetVarType=0 Source=HOMESPD" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		End
		Start "Wait_Index" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H33_THS33_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H33_THS33_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H33_THS33_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H33_THS33_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"A 16-bit Integer" "Type=0 Destination=CSPD SetVarType=0 Source=HOMESPD" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH33_33_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH33_33_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home34" disabled
	"Free Text" "/* Homing on the index pulse. Move positive and stop at the first index pulse. */" 
		Start "Save ASR value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=asr 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
		"Jumps and Function Calls" "Type=0 Label=H34_Homing_Mode_33_Init Variable=var_i3 Condition=3" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H34_TSH33_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=0 Label=H34_TSH33_Start" 
		"Jumps and Function Calls" "Type=6 Label=H34_Homing_Mode_33_Init" 
		"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			Start "If negative transmission, reverse position command" 
			"Jumps and Function Calls" "Type=0 Label=H34_TSH33_Start Variable=Transmission Condition=5" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CPOS SetVarType=2" 
			End
		"Jumps and Function Calls" "Type=6 Label=H34_TSH33_Start" 
		End
		Start "Start moving negative(33) or positive(34)" 
		"A 16-bit Integer" "Type=0 Destination=CSPD SetVarType=0 Source=HOMESPD" 
		"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=0" 
		End
		Start "Wait_Index" 
			Start "Wait for encoder index pulse" 
				Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
					Start "Determine if index pulse is on Feedback\d2" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H34_THS33_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
					End
					Start "Capture the index pulse of Feedback \d1" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=0 Label=H34_THS33_Waitindex_onFDBK1" 
					End
					Start "Capture the index pulse of Feedback \d2" 
					"Jumps and Function Calls" "Type=6 Label=H34_THS33_Waitindex_onFDBK2" 
					"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
					"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
					"Jumps and Function Calls" "Type=6 Label=H34_THS33_Waitindex_onFDBK1" 
					End
				End
			End
			Start "Position motor on encoder index" 
			"A 16-bit Integer" "Type=0 Destination=CSPD SetVarType=0 Source=HOMESPD" 
			"Trapezoidal Profiles" "Profile=0 Type=0 Additive=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
			End
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH33_34_exit_H2 Variable=var_i3 Condition=3" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH33_34_exit_H2" 
			End
			Start "Restore ASR" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=1 Source=var_lf" 
			End
		End
	End
	Start "home35" disabled
	"Free Text" "/* Homing on current position. Set actual position as home position. */" 
		Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
		"Jumps and Function Calls" "Type=0 Label=TSH35_35_exit_H2 Variable=var_i3 Condition=3" 
		"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
		"Jumps and Function Calls" "Type=6 Label=TSH35_35_exit_H2" 
		End
	End
	Start "" disabled
	End
	Start "home37" disabled
	"Free Text" "/*Home 37(-1)  - Move negative until mechanical limit is reached. Reverse and stop at first index pulse after home threshold current is reached over an imposed time. */\r\n/* In case of Stepper Open Loop control + encoder configuration, the homing is based on the position control error set in Setup and the Current threshold time value. */" 
		Start "Save ASR and TERRMAX value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=PROD Source=ASR 32BitPart=0" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=0 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=PRODH Source=TERRMAX 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters And StartMotion" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=HOMETIME 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=TERRMAX SetVarType=0 Source=0xFFFF" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_HomeCrt_GT0_f Variable=homecrt Condition=5" 
		"A 16-bit Integer" "Type=0 Destination=HOMECRT SetVarType=0 Source=-HOMECRT" 
		"Jumps and Function Calls" "Type=6 Label=H37_TSH37_HomeCrt_GT0_f" 
			Start "Is Homing Number EVEN ?" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				Start "If negative transmission, reverse position command" 
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_NoNeg1_Transm Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_Homing_ODD_Init Variable=var_i3 Condition=0" 
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_Homing_Mode_37_Init" 
				"Jumps and Function Calls" "Type=6 Label=H37_TSH37_NoNeg1_Transm" 
				End
			"Jumps and Function Calls" "Type=0 Label=H37_TSH37_Homing_Mode_37_Init Variable=var_i3 Condition=0" 
			End
			Start "Homing Number Is ODD" 
			"Jumps and Function Calls" "Type=6 Label=H37_TSH37_Homing_ODD_Init" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				Start "If StepperOpenLoop configuration, use Wait HardStop Poserr Neg, if not, use Wait Current Neg" 
					Start "If not stepper use Wait Current Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitCurrent_NegMot Variable=var_i2 Condition=0" 
					End
					Start "If not SCL use Wait Current Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitCurrent_NegMot Variable=var_i2 Condition=3" 
					End
					Start "If SOL + enc on load use Wait HardStop Poserr Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=1000 OR=0" 
					"Jumps and Function Calls" "Type=3" disabled
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitPosERR_Negative Variable=var_i2 Condition=3" 
					End
					Start "Current config SOL + enc on motor ==> use Wait HardStop Poserr Positive" 
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitPosERR_Positive" 
					End
				End
			End
			Start "Homing Number is EVEN" 
			"Jumps and Function Calls" "Type=6 Label=H37_TSH37_Homing_Mode_37_Init" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				Start "If StepperOpenLoop configuration, use Wait HardStop Poserr Pos, if not, use Wait Current Pos" 
					Start "If not stepper use Wait Current Pos" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitCurrent_PosMot Variable=var_i2 Condition=0" 
					End
					Start "If not SCL use Wait Current Pos" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitCurrent_PosMot Variable=var_i2 Condition=3" 
					End
					Start "Current config SOL ==> use Wait HardStop Poserr Pos" 
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitPosERR_Positive" 
					End
				End
			End
		End
	"Jumps and Function Calls" "Type=6 Label=H37_TSH37_waitCurrent_NegMot" 
		Start "Wait for hardstop NegMot" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitCurrent_NegMot Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitCurrent_NegMot Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H37_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H37_TSH37_waitCurrent_PosMot" 
		Start "Wait for hardstop PosMot" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitCurrent_PosMot Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitCurrent_PosMot Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H37_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H37_TSH37_waitPosERR_Negative" 
		Start "Wait for hardstop POSERR Negative" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitPosERR_Negative Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitPosERR_Negative Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H37_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H37_TSH37_waitPosERR_Positive" 
		Start "Wait for hardstop POSERR Positive" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitPosERR_Positive Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_waitPosERR_Positive Variable=var_i3 Condition=2" 
		End
		Start "Quick STOP ( StopMotion)" 
		"Jumps and Function Calls" "Type=6 Label=H37_TSH37_StopMotion" 
			Start "If StepperOpenLoop configuration, use quickstop" 
				Start "If not stepper skip quick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_StopMotion_skip Variable=var_i2 Condition=0" 
				End
				Start "If not SCL skip quick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_StopMotion_skip Variable=var_i2 Condition=3" 
				End
				Start "If SOL + enc on load skip qick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=1000 OR=0" 
				"Jumps and Function Calls" "Type=3" disabled
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_StopMotion_skip Variable=var_i2 Condition=3" 
				End
				Start "Current config SOL + enc on motor ==> use Qucik Stop and wait" 
				"A 16-bit Integer" "Type=0 Destination=quickstops SetVarType=0 Source=1" 
				"Free Text" "  !MC; WAIT!; // wait for completion" 
				End
			End
		"Jumps and Function Calls" "Type=6 Label=H37_TSH37_StopMotion_skip" 
		End
		Start "Wait for first index transition(37,38) or stop at current position(39,40) - homepos" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=39" 
		"Jumps and Function Calls" "Type=0 Label=H37_TSH37_homing_39_or_40 Variable=var_i3 Condition=5" 
			Start "Homing 37 or 38" 
				Start "Reverse Motion" 
				"A 16-bit Integer" "Type=0 Destination=ASR SetVarType=4 AND=FFFF OR=48" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-CPOS SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				End
				Start "TSH37 Waitindex" 
				"Jumps and Function Calls" "Type=6 Label=H37_TSH37_Waitindex" 
					Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
						Start "Determine if index pulse is on Feedback\d2" 
						"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
						"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H37_THS37_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
						End
						Start "Capture the index pulse of Feedback \d1" 
						"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
						"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
						"Jumps and Function Calls" "Type=0 Label=H37_THS37_Waitindex_onFDBK1" 
						End
						Start "Capture the index pulse of Feedback \d2" 
						"Jumps and Function Calls" "Type=6 Label=H37_THS37_Waitindex_onFDBK2" 
						"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
						"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
						"Jumps and Function Calls" "Type=6 Label=H37_THS37_Waitindex_onFDBK1" 
						End
					End
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
				End
			"Jumps and Function Calls" "Type=0 Label=H37_TSH37_exit_homing" 
			End
			Start "Homing 39 or 40" 
			"Jumps and Function Calls" "Type=6 Label=H37_TSH37_homing_39_or_40" 
				Start "Determine homing_nr parity" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					Start "If negative transmission, reverse position command" 
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_NoNeg2_Transm Variable=Transmission Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_Homing_ODD2 Variable=var_i3 Condition=0" 
					"Jumps and Function Calls" "Type=0 Label=H37_TSH37_Homing_nr_even_f" 
					"Jumps and Function Calls" "Type=6 Label=H37_TSH37_NoNeg2_Transm" 
					End
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_Homing_nr_even_f Variable=var_i3 Condition=0" 
				End
				Start "Homing Number Is ODD" 
				"Jumps and Function Calls" "Type=6 Label=H37_TSH37_Homing_ODD2" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_MoveAway_f Variable=CPOS Condition=5" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_MoveAway_f" 
				End
				Start "Homing Number is EVEN" 
				"Jumps and Function Calls" "Type=6 Label=H37_TSH37_Homing_nr_even_f" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H37_TSH37_MoveAway_f Variable=CPOS Condition=1" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-HOMEPOS SetVarType=0" 
				End
				Start "Move away from limit by absolute  value of HOMEPOS" 
				"Jumps and Function Calls" "Type=6 Label=H37_TSH37_MoveAway_f" 
				"A 16-bit Integer" "Type=0 Destination=ASR SetVarType=4 AND=FFFF OR=48" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=1" 
				End
			End
		End
		Start "Exit homing" 
		"Jumps and Function Calls" "Type=6 Label=H37_TSH37_exit_homing" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH37_37_exit_H2 Variable=var_i3 Condition=3" 
			"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 CPOS=0 Execute=0 WaitForCompletion=0" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH37_37_exit_H2" 
			End
			Start "Restore ASR and TERRMAX" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=0 Source=PROD" 
			"A 16-bit Integer" "Type=0 Destination=TERRMAX SetVarType=2 32BitPart=1 Source=PRODH" 
			End
		End
	End
	Start "home38" disabled
	"Free Text" "/*Home 38(-2)  - Move positive until mechanical limit is reached. Reverse and stop at first index pulse after home threshold current is reached over an imposed time. */\r\n/* In case of Stepper Open Loop control + encoder configuration, the homing is based on the position control error set in Setup and the Current threshold time value. */" 
		Start "Save ASR and TERRMAX value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=PROD Source=ASR 32BitPart=0" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=0 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=PRODH Source=TERRMAX 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters And StartMotion" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=HOMETIME 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=TERRMAX SetVarType=0 Source=0xFFFF" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_HomeCrt_GT0_f Variable=homecrt Condition=5" 
		"A 16-bit Integer" "Type=0 Destination=HOMECRT SetVarType=0 Source=-HOMECRT" 
		"Jumps and Function Calls" "Type=6 Label=H38_TSH37_HomeCrt_GT0_f" 
			Start "Is Homing Number EVEN ?" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				Start "If negative transmission, reverse position command" 
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_NoNeg1_Transm Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_Homing_ODD_Init Variable=var_i3 Condition=0" 
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_Homing_Mode_37_Init" 
				"Jumps and Function Calls" "Type=6 Label=H38_TSH37_NoNeg1_Transm" 
				End
			"Jumps and Function Calls" "Type=0 Label=H38_TSH37_Homing_Mode_37_Init Variable=var_i3 Condition=0" 
			End
			Start "Homing Number Is ODD" 
			"Jumps and Function Calls" "Type=6 Label=H38_TSH37_Homing_ODD_Init" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				Start "If StepperOpenLoop configuration, use Wait HardStop Poserr Neg, if not, use Wait Current Neg" 
					Start "If not stepper use Wait Current Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitCurrent_NegMot Variable=var_i2 Condition=0" 
					End
					Start "If not SCL use Wait Current Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitCurrent_NegMot Variable=var_i2 Condition=3" 
					End
					Start "If SOL + enc on load use Wait HardStop Poserr Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=1000 OR=0" 
					"Jumps and Function Calls" "Type=3" disabled
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitPosERR_Negative Variable=var_i2 Condition=3" 
					End
					Start "Current config SOL + enc on motor ==> use Wait HardStop Poserr Positive" 
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitPosERR_Positive" 
					End
				End
			End
			Start "Homing Number is EVEN" 
			"Jumps and Function Calls" "Type=6 Label=H38_TSH37_Homing_Mode_37_Init" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				Start "If StepperOpenLoop configuration, use Wait HardStop Poserr Pos, if not, use Wait Current Pos" 
					Start "If not stepper use Wait Current Pos" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitCurrent_PosMot Variable=var_i2 Condition=0" 
					End
					Start "If not SCL use Wait Current Pos" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitCurrent_PosMot Variable=var_i2 Condition=3" 
					End
					Start "Current config SOL ==> use Wait HardStop Poserr Pos" 
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitPosERR_Positive" 
					End
				End
			End
		End
	"Jumps and Function Calls" "Type=6 Label=H38_TSH37_waitCurrent_NegMot" 
		Start "Wait for hardstop NegMot" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitCurrent_NegMot Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitCurrent_NegMot Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H38_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H38_TSH37_waitCurrent_PosMot" 
		Start "Wait for hardstop PosMot" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitCurrent_PosMot Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitCurrent_PosMot Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H38_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H38_TSH37_waitPosERR_Negative" 
		Start "Wait for hardstop POSERR Negative" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitPosERR_Negative Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitPosERR_Negative Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H38_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H38_TSH37_waitPosERR_Positive" 
		Start "Wait for hardstop POSERR Positive" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitPosERR_Positive Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_waitPosERR_Positive Variable=var_i3 Condition=2" 
		End
		Start "Quick STOP ( StopMotion)" 
		"Jumps and Function Calls" "Type=6 Label=H38_TSH37_StopMotion" 
		"A 16-bit Integer" "Type=0 Destination=quickstops SetVarType=0 Source=1" 
		"Free Text" "  !MC; WAIT!; // wait for completion" 
			Start "If StepperOpenLoop configuration, use quickstop" 
				Start "If not stepper skip quick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_StopMotion_skip Variable=var_i2 Condition=0" 
				End
				Start "If not SCL skip quick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_StopMotion_skip Variable=var_i2 Condition=3" 
				End
				Start "If SOL + enc on load skip qick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=1000 OR=0" 
				"Jumps and Function Calls" "Type=3" disabled
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_StopMotion_skip Variable=var_i2 Condition=3" 
				End
				Start "Current config SOL + enc on motor ==> use Qucik Stop and wait" 
				"A 16-bit Integer" "Type=0 Destination=quickstops SetVarType=0 Source=1" 
				"Free Text" "  !MC; WAIT!; // wait for completion" 
				End
			End
		"Jumps and Function Calls" "Type=6 Label=H38_TSH37_StopMotion_skip" 
		End
		Start "Wait for first index transition(37,38) or stop at current position(39,40) - homepos" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=39" 
		"Jumps and Function Calls" "Type=0 Label=H38_TSH37_homing_39_or_40 Variable=var_i3 Condition=5" 
			Start "Homing 37 or 38" 
				Start "Reverse Motion" 
				"A 16-bit Integer" "Type=0 Destination=ASR SetVarType=4 AND=FFFF OR=48" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-CPOS SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				End
				Start "TSH37 Waitindex" 
				"Jumps and Function Calls" "Type=6 Label=H38_TSH37_Waitindex" 
					Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
						Start "Determine if index pulse is on Feedback\d2" 
						"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
						"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H38_THS37_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
						End
						Start "Capture the index pulse of Feedback \d1" 
						"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
						"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
						"Jumps and Function Calls" "Type=0 Label=H38_THS37_Waitindex_onFDBK1" 
						End
						Start "Capture the index pulse of Feedback \d2" 
						"Jumps and Function Calls" "Type=6 Label=H38_THS37_Waitindex_onFDBK2" 
						"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
						"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
						"Jumps and Function Calls" "Type=6 Label=H38_THS37_Waitindex_onFDBK1" 
						End
					End
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
				End
			"Jumps and Function Calls" "Type=0 Label=H38_TSH37_exit_homing" 
			End
			Start "Homing 39 or 40" 
			"Jumps and Function Calls" "Type=6 Label=H38_TSH37_homing_39_or_40" 
				Start "Determine homing_nr parity" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					Start "If negative transmission, reverse position command" 
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_NoNeg2_Transm Variable=Transmission Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_Homing_ODD2 Variable=var_i3 Condition=0" 
					"Jumps and Function Calls" "Type=0 Label=H38_TSH37_Homing_nr_even_f" 
					"Jumps and Function Calls" "Type=6 Label=H38_TSH37_NoNeg2_Transm" 
					End
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_Homing_nr_even_f Variable=var_i3 Condition=0" 
				End
				Start "Homing Number Is ODD" 
				"Jumps and Function Calls" "Type=6 Label=H38_TSH37_Homing_ODD2" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_MoveAway_f Variable=CPOS Condition=5" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_MoveAway_f" 
				End
				Start "Homing Number is EVEN" 
				"Jumps and Function Calls" "Type=6 Label=H38_TSH37_Homing_nr_even_f" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H38_TSH37_MoveAway_f Variable=CPOS Condition=1" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-HOMEPOS SetVarType=0" 
				End
				Start "Move away from limit by absolute  value of HOMEPOS" 
				"Jumps and Function Calls" "Type=6 Label=H38_TSH37_MoveAway_f" 
				"A 16-bit Integer" "Type=0 Destination=ASR SetVarType=4 AND=FFFF OR=48" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=1" 
				End
			End
		End
		Start "Exit homing" 
		"Jumps and Function Calls" "Type=6 Label=H38_TSH37_exit_homing" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH37_38_exit_H2 Variable=var_i3 Condition=3" 
			"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 CPOS=0 Execute=0 WaitForCompletion=0" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH37_38_exit_H2" 
			End
			Start "Restore ASR and TERRMAX" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=0 Source=PROD" 
			"A 16-bit Integer" "Type=0 Destination=TERRMAX SetVarType=2 32BitPart=1 Source=PRODH" 
			End
		End
	End
	Start "home39" disabled
	"Free Text" "/*Home 39(-3)  - Move negative until mechanical limit is reached. Stop when home threshold current is reached for an imposed time and move away from the limit with the absolute value or Home position variable.*/\r\n/* In case of Stepper Open Loop control + encoder configuration, the homing is based on the position control error set in Setup and the Current threshold time value. */" 
		Start "Save ASR and TERRMAX value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=PROD Source=ASR 32BitPart=0" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=0 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=PRODH Source=TERRMAX 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters And StartMotion" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=HOMETIME 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=TERRMAX SetVarType=0 Source=0xFFFF" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_HomeCrt_GT0_f Variable=homecrt Condition=5" 
		"A 16-bit Integer" "Type=0 Destination=HOMECRT SetVarType=0 Source=-HOMECRT" 
		"Jumps and Function Calls" "Type=6 Label=H39_TSH37_HomeCrt_GT0_f" 
			Start "Is Homing Number EVEN ?" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				Start "If negative transmission, reverse position command" 
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_NoNeg1_Transm Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_Homing_ODD_Init Variable=var_i3 Condition=0" 
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_Homing_Mode_37_Init" 
				"Jumps and Function Calls" "Type=6 Label=H39_TSH37_NoNeg1_Transm" 
				End
			"Jumps and Function Calls" "Type=0 Label=H39_TSH37_Homing_Mode_37_Init Variable=var_i3 Condition=0" 
			End
			Start "Homing Number Is ODD" 
			"Jumps and Function Calls" "Type=6 Label=H39_TSH37_Homing_ODD_Init" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				Start "If StepperOpenLoop configuration, use Wait HardStop Poserr Neg, if not, use Wait Current Neg" 
					Start "If not stepper use Wait Current Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitCurrent_NegMot Variable=var_i2 Condition=0" 
					End
					Start "If not SCL use Wait Current Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitCurrent_NegMot Variable=var_i2 Condition=3" 
					End
					Start "If SOL + enc on load use Wait HardStop Poserr Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=1000 OR=0" 
					"Jumps and Function Calls" "Type=3" disabled
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitPosERR_Negative Variable=var_i2 Condition=3" 
					End
					Start "Current config SOL + enc on motor ==> use Wait HardStop Poserr Positive" 
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitPosERR_Positive" 
					End
				End
			End
			Start "Homing Number is EVEN" 
			"Jumps and Function Calls" "Type=6 Label=H39_TSH37_Homing_Mode_37_Init" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				Start "If StepperOpenLoop configuration, use Wait HardStop Poserr Pos, if not, use Wait Current Pos" 
					Start "If not stepper use Wait Current Pos" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitCurrent_PosMot Variable=var_i2 Condition=0" 
					End
					Start "If not SCL use Wait Current Pos" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitCurrent_PosMot Variable=var_i2 Condition=3" 
					End
					Start "Current config SOL ==> use Wait HardStop Poserr Pos" 
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitPosERR_Positive" 
					End
				End
			End
		End
	"Jumps and Function Calls" "Type=6 Label=H39_TSH37_waitCurrent_NegMot" 
		Start "Wait for hardstop NegMot" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitCurrent_NegMot Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitCurrent_NegMot Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H39_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H39_TSH37_waitCurrent_PosMot" 
		Start "Wait for hardstop PosMot" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitCurrent_PosMot Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitCurrent_PosMot Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H39_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H39_TSH37_waitPosERR_Negative" 
		Start "Wait for hardstop POSERR Negative" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitPosERR_Negative Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitPosERR_Negative Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H39_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H39_TSH37_waitPosERR_Positive" 
		Start "Wait for hardstop POSERR Positive" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitPosERR_Positive Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_waitPosERR_Positive Variable=var_i3 Condition=2" 
		End
		Start "Quick STOP ( StopMotion)" 
		"Jumps and Function Calls" "Type=6 Label=H39_TSH37_StopMotion" 
			Start "If StepperOpenLoop configuration, use quickstop" 
				Start "If not stepper skip quick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_StopMotion_skip Variable=var_i2 Condition=0" 
				End
				Start "If not SCL skip quick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_StopMotion_skip Variable=var_i2 Condition=3" 
				End
				Start "If SOL + enc on load skip qick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=1000 OR=0" 
				"Jumps and Function Calls" "Type=3" disabled
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_StopMotion_skip Variable=var_i2 Condition=3" 
				End
				Start "Current config SOL + enc on motor ==> use Qucik Stop and wait" 
				"A 16-bit Integer" "Type=0 Destination=quickstops SetVarType=0 Source=1" 
				"Free Text" "  !MC; WAIT!; // wait for completion" 
				End
			End
		"Jumps and Function Calls" "Type=6 Label=H39_TSH37_StopMotion_skip" 
		End
		Start "Wait for first index transition(37,38) or stop at current position(39,40) - homepos" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=39" 
		"Jumps and Function Calls" "Type=0 Label=H39_TSH37_homing_39_or_40 Variable=var_i3 Condition=5" 
			Start "Homing 37 or 38" 
				Start "Reverse Motion" 
				"A 16-bit Integer" "Type=0 Destination=ASR SetVarType=4 AND=FFFF OR=48" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-CPOS SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				End
				Start "TSH37 Waitindex" 
				"Jumps and Function Calls" "Type=6 Label=H39_TSH37_Waitindex" 
					Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
						Start "Determine if index pulse is on Feedback\d2" 
						"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
						"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H39_THS37_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
						End
						Start "Capture the index pulse of Feedback \d1" 
						"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
						"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
						"Jumps and Function Calls" "Type=0 Label=H39_THS37_Waitindex_onFDBK1" 
						End
						Start "Capture the index pulse of Feedback \d2" 
						"Jumps and Function Calls" "Type=6 Label=H39_THS37_Waitindex_onFDBK2" 
						"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
						"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
						"Jumps and Function Calls" "Type=6 Label=H39_THS37_Waitindex_onFDBK1" 
						End
					End
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
				End
			"Jumps and Function Calls" "Type=0 Label=H39_TSH37_exit_homing" 
			End
			Start "Homing 39 or 40" 
			"Jumps and Function Calls" "Type=6 Label=H39_TSH37_homing_39_or_40" 
				Start "Determine homing_nr parity" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					Start "If negative transmission, reverse position command" 
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_NoNeg2_Transm Variable=Transmission Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_Homing_ODD2 Variable=var_i3 Condition=0" 
					"Jumps and Function Calls" "Type=0 Label=H39_TSH37_Homing_nr_even_f" 
					"Jumps and Function Calls" "Type=6 Label=H39_TSH37_NoNeg2_Transm" 
					End
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_Homing_nr_even_f Variable=var_i3 Condition=0" 
				End
				Start "Homing Number Is ODD" 
				"Jumps and Function Calls" "Type=6 Label=H39_TSH37_Homing_ODD2" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_MoveAway_f Variable=CPOS Condition=5" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_MoveAway_f" 
				End
				Start "Homing Number is EVEN" 
				"Jumps and Function Calls" "Type=6 Label=H39_TSH37_Homing_nr_even_f" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H39_TSH37_MoveAway_f Variable=CPOS Condition=1" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-HOMEPOS SetVarType=0" 
				End
				Start "Move away from limit by absolute  value of HOMEPOS" 
				"Jumps and Function Calls" "Type=6 Label=H39_TSH37_MoveAway_f" 
				"A 16-bit Integer" "Type=0 Destination=ASR SetVarType=4 AND=FFFF OR=48" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=1" 
				End
			End
		End
		Start "Exit homing" 
		"Jumps and Function Calls" "Type=6 Label=H39_TSH37_exit_homing" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH37_39_exit_H2 Variable=var_i3 Condition=3" 
			"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 CPOS=0 Execute=0 WaitForCompletion=0" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH37_39_exit_H2" 
			End
			Start "Restore ASR and TERRMAX" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=0 Source=PROD" 
			"A 16-bit Integer" "Type=0 Destination=TERRMAX SetVarType=2 32BitPart=1 Source=PRODH" 
			End
		End
	End
	Start "home40" disabled
	"Free Text" "/*Home 40(-4)  - Move positive until mechanical limit is reached. Stop when home threshold current is reached for an imposed time and move away from the limit with the absolute value or Home position variable. */\r\n/* In case of Stepper Open Loop control + encoder configuration, the homing is based on the position control error set in Setup and the Current threshold time value. */" 
		Start "Save ASR and TERRMAX value in order to disable Software Limit Switches" 
		"A 32-bit Long or Fixed" "Type=1 Destination=PROD Source=ASR 32BitPart=0" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=0 32BitPart=1" 
		"A 32-bit Long or Fixed" "Type=1 Destination=PRODH Source=TERRMAX 32BitPart=1" 
		"A 16-bit Integer" "Type=0 Destination=asr SetVarType=4 AND=EFFF OR=0" 
		End
		Start "Setting parameters And StartMotion" 
		"A 32-bit Long or Fixed" "Type=1 Destination=var_lf Source=HOMETIME 32BitPart=0" 
		"A 16-bit Integer" "Type=0 Destination=TERRMAX SetVarType=0 Source=0xFFFF" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_HomeCrt_GT0_f Variable=homecrt Condition=5" 
		"A 16-bit Integer" "Type=0 Destination=HOMECRT SetVarType=0 Source=-HOMECRT" 
		"Jumps and Function Calls" "Type=6 Label=H40_TSH37_HomeCrt_GT0_f" 
			Start "Is Homing Number EVEN ?" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
				Start "If negative transmission, reverse position command" 
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_NoNeg1_Transm Variable=Transmission Condition=5" 
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_Homing_ODD_Init Variable=var_i3 Condition=0" 
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_Homing_Mode_37_Init" 
				"Jumps and Function Calls" "Type=6 Label=H40_TSH37_NoNeg1_Transm" 
				End
			"Jumps and Function Calls" "Type=0 Label=H40_TSH37_Homing_Mode_37_Init Variable=var_i3 Condition=0" 
			End
			Start "Homing Number Is ODD" 
			"Jumps and Function Calls" "Type=6 Label=H40_TSH37_Homing_ODD_Init" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-1000000000 SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				Start "If StepperOpenLoop configuration, use Wait HardStop Poserr Neg, if not, use Wait Current Neg" 
					Start "If not stepper use Wait Current Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitCurrent_NegMot Variable=var_i2 Condition=0" 
					End
					Start "If not SCL use Wait Current Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitCurrent_NegMot Variable=var_i2 Condition=3" 
					End
					Start "If SOL + enc on load use Wait HardStop Poserr Neg" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=1000 OR=0" 
					"Jumps and Function Calls" "Type=3" disabled
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitPosERR_Negative Variable=var_i2 Condition=3" 
					End
					Start "Current config SOL + enc on motor ==> use Wait HardStop Poserr Positive" 
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitPosERR_Positive" 
					End
				End
			End
			Start "Homing Number is EVEN" 
			"Jumps and Function Calls" "Type=6 Label=H40_TSH37_Homing_Mode_37_Init" 
			"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=1000000000 SetVarType=0" 
			"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				Start "If StepperOpenLoop configuration, use Wait HardStop Poserr Pos, if not, use Wait Current Pos" 
					Start "If not stepper use Wait Current Pos" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitCurrent_PosMot Variable=var_i2 Condition=0" 
					End
					Start "If not SCL use Wait Current Pos" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
					"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitCurrent_PosMot Variable=var_i2 Condition=3" 
					End
					Start "Current config SOL ==> use Wait HardStop Poserr Pos" 
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitPosERR_Positive" 
					End
				End
			End
		End
	"Jumps and Function Calls" "Type=6 Label=H40_TSH37_waitCurrent_NegMot" 
		Start "Wait for hardstop NegMot" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitCurrent_NegMot Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitCurrent_NegMot Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H40_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H40_TSH37_waitCurrent_PosMot" 
		Start "Wait for hardstop PosMot" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitCurrent_PosMot Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=HOMECRT" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=IQREF" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitCurrent_PosMot Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H40_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H40_TSH37_waitPosERR_Negative" 
		Start "Wait for hardstop POSERR Negative" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitPosERR_Negative Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=0 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitPosERR_Negative Variable=var_i3 Condition=2" 
		End
	"Jumps and Function Calls" "Type=0 Label=H40_TSH37_StopMotion" 
	"Jumps and Function Calls" "Type=6 Label=H40_TSH37_waitPosERR_Positive" 
		Start "Wait for hardstop POSERR Positive" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitPosERR_Positive Variable=var_i3 Condition=2" 
		"Events" "Stop=0 Wait=1 EvType=4 EvSourceType=1 EvSrcVar=var_lf" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ERRMAX" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=POSERR" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_waitPosERR_Positive Variable=var_i3 Condition=2" 
		End
		Start "Quick STOP ( StopMotion)" 
		"Jumps and Function Calls" "Type=6 Label=H40_TSH37_StopMotion" 
			Start "If StepperOpenLoop configuration, use quickstop" 
				Start "If not stepper skip quick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=SCR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=4000 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_StopMotion_skip Variable=var_i2 Condition=0" 
				End
				Start "If not SCL skip quick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=400 OR=0" 
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_StopMotion_skip Variable=var_i2 Condition=3" 
				End
				Start "If SOL + enc on load skip qick stop" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=0 Source=OSR" 
				"A 16-bit Integer" "Type=0 Destination=var_i2 SetVarType=4 AND=1000 OR=0" 
				"Jumps and Function Calls" "Type=3" disabled
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_StopMotion_skip Variable=var_i2 Condition=3" 
				End
				Start "Current config SOL + enc on motor ==> use Qucik Stop and wait" 
				"A 16-bit Integer" "Type=0 Destination=quickstops SetVarType=0 Source=1" 
				"Free Text" "  !MC; WAIT!; // wait for completion" 
				End
			End
		"Jumps and Function Calls" "Type=6 Label=H40_TSH37_StopMotion_skip" 
		End
		Start "Wait for first index transition(37,38) or stop at current position(39,40) - homepos" 
		"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
		"Arithmetic Operations" "Type=1 Operand1=var_i3 Operand2=39" 
		"Jumps and Function Calls" "Type=0 Label=H40_TSH37_homing_39_or_40 Variable=var_i3 Condition=5" 
			Start "Homing 37 or 38" 
				Start "Reverse Motion" 
				"A 16-bit Integer" "Type=0 Destination=ASR SetVarType=4 AND=FFFF OR=48" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-CPOS SetVarType=0" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=0" 
				End
				Start "TSH37 Waitindex" 
				"Jumps and Function Calls" "Type=6 Label=H40_TSH37_Waitindex" 
					Start "Capture position on index pulse 1 or 2 and put it in CAPPOS variable" 
						Start "Determine if index pulse is on Feedback\d2" 
						"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=SCR" 
						"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=400 OR=0" 
						"Jumps and Function Calls" "Type=0 Label=H40_THS37_Waitindex_onFDBK2 Variable=var_i3 Condition=2" 
						End
						Start "Capture the index pulse of Feedback \d1" 
						"Events" "Stop=0 Wait=1 EvType=6 EvInput=0 EvInputLevel=1" 
						"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
						"Jumps and Function Calls" "Type=0 Label=H40_THS37_Waitindex_onFDBK1" 
						End
						Start "Capture the index pulse of Feedback \d2" 
						"Jumps and Function Calls" "Type=6 Label=H40_THS37_Waitindex_onFDBK2" 
						"Events" "Stop=0 Wait=1 EvType=6 EvInput=1 EvInputLevel=1" 
						"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=CAPPOS SetVarType=0" 
						"Jumps and Function Calls" "Type=6 Label=H40_THS37_Waitindex_onFDBK1" 
						End
					End
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=0 StartPoint=0 Execute=0 WaitForCompletion=1" 
				End
			"Jumps and Function Calls" "Type=0 Label=H40_TSH37_exit_homing" 
			End
			Start "Homing 39 or 40" 
			"Jumps and Function Calls" "Type=6 Label=H40_TSH37_homing_39_or_40" 
				Start "Determine homing_nr parity" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=homing_nr" 
				"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1 OR=0" 
					Start "If negative transmission, reverse position command" 
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_NoNeg2_Transm Variable=Transmission Condition=5" 
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_Homing_ODD2 Variable=var_i3 Condition=0" 
					"Jumps and Function Calls" "Type=0 Label=H40_TSH37_Homing_nr_even_f" 
					"Jumps and Function Calls" "Type=6 Label=H40_TSH37_NoNeg2_Transm" 
					End
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_Homing_nr_even_f Variable=var_i3 Condition=0" 
				End
				Start "Homing Number Is ODD" 
				"Jumps and Function Calls" "Type=6 Label=H40_TSH37_Homing_ODD2" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_MoveAway_f Variable=CPOS Condition=5" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_MoveAway_f" 
				End
				Start "Homing Number is EVEN" 
				"Jumps and Function Calls" "Type=6 Label=H40_TSH37_Homing_nr_even_f" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=HOMEPOS SetVarType=0" 
				"Jumps and Function Calls" "Type=0 Label=H40_TSH37_MoveAway_f Variable=CPOS Condition=1" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CPOS Source=-HOMEPOS SetVarType=0" 
				End
				Start "Move away from limit by absolute  value of HOMEPOS" 
				"Jumps and Function Calls" "Type=6 Label=H40_TSH37_MoveAway_f" 
				"A 16-bit Integer" "Type=0 Destination=ASR SetVarType=4 AND=FFFF OR=48" 
				"A 32-bit Long or Fixed" "Type=0 Destination=CSPD Source=HOMESPD SetVarType=0" 
				"Trapezoidal Profiles" "Profile=0 Type=1 StartPoint=1 Execute=0 WaitForCompletion=1" 
				End
			End
		End
		Start "Exit homing" 
		"Jumps and Function Calls" "Type=6 Label=H40_TSH37_exit_homing" 
			Start "If ASR2.12 = 1 do not execute SAP HOMEPOS" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=0 Source=ASR2" 
			"A 16-bit Integer" "Type=0 Destination=var_i3 SetVarType=4 AND=1000 OR=0" 
			"Jumps and Function Calls" "Type=0 Label=TSH37_40_exit_H2 Variable=var_i3 Condition=3" 
			"Trapezoidal Profiles" "Profile=0 Type=1 Additive=0 StartPoint=0 CPOS=0 Execute=0 WaitForCompletion=0" 
			"Motor Commands" "Type=5 SrcVar=HOMEPOS" 
			"Jumps and Function Calls" "Type=6 Label=TSH37_40_exit_H2" 
			End
			Start "Restore ASR and TERRMAX" 
			"A 16-bit Integer" "Type=0 Destination=asr SetVarType=2 32BitPart=0 Source=PROD" 
			"A 16-bit Integer" "Type=0 Destination=TERRMAX SetVarType=2 32BitPart=1 Source=PRODH" 
			End
		End
	End
