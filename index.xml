<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ecmccfg</title><link>https://paulscherrerinstitute.github.io/ecmccfg/</link><description>Recent content on ecmccfg</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 25 Oct 2023 14:09:57 +0000</lastBuildDate><atom:link href="https://paulscherrerinstitute.github.io/ecmccfg/index.xml" rel="self" type="application/rss+xml"/><item><title>build at PSI</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/build/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/build/</guid><description>These instructions only work at PSI!
Build at PSI, using driver.makefile by default this module is only build for RHEL7 and Epics &amp;gt;=R7.0.5
build on login cluster make [LIBVERSION] [clean] [uninstall] install check a particular version check the module loads for version dev, Epics R7+ and ECMC version dev, note MASTER_ID=-1 which runs ECMC in master-less mode. Make proper adjustments to match your needs in terms of versions.</description></item><item><title>addAxis.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addaxis/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addaxis/</guid><description>author Niko Kivel</description></item><item><title>addDataStorage.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/adddatastorage/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/adddatastorage/</guid><description>description Script for adding dataStorage.
details Adds dataStorage buffer.
author Anders Sandstroem
paramters DS_SIZE Size of data buffer.
DS_ID (optional), default 0, buffer ID
DS_TYPE (optional), default 0, 0: Normal Buffer, 1: Ring Buffer, 2: FIFO Buffer
SAMPLE_RATE_MS (optional), default 1
DS_DEBUG (optional), default 0, 0: No debug printouts, 1: Debug printouts
Example calls:
call for 1000 elements at 10 Hz ${SCRIPTEXEC} ${ecmccfg_DIR}addDataStorage.cmd &amp;#34;DS_ID=1, DS_SIZE=1000, SAMPLE_RATE_MS=100&amp;#34;</description></item><item><title>addEcSdoRT.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addecsdort/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addecsdort/</guid><description>author Anders Sandstr√∂m</description></item><item><title>addEncoder.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addencoder/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addencoder/</guid><description>description Script for adding an axis with configuration.
details Adds an axis to the configuration and applies parameters provided by CONFIG.
author Niko Kivel
paramters CONFIG configuration file, i.e. ./cfg/axis_1_enc_2.enc
DEV (optional) device name, i.e. MOTOR1
CLEAR_VARS_CMD (optional) Set to &amp;ldquo;empty&amp;rdquo; for not clear env vars (if vars needed for later use).
CFG_MACROS (optional) Substitution macros for config file
Example call:
${SCRIPTEXEC} ${ecmccfg_DIR}addEncoder.cmd, &amp;#34;CONFIG=./cfg/linear_1_enc_3.enc&amp;#34;</description></item><item><title>addMaster.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addmaster/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addmaster/</guid><description>author Niko Kivel
paramters MASTER_ID (optional) master ID as shown by ethercat master.
Example calls:
call w/o MASTER_ID ${SCRIPTEXEC} ${ecmccfg_DIR}addMaster.cmd call w/ MASTER_ID, which claims the 4th master. ${SCRIPTEXEC} ${ecmccfg_DIR}addMaster.cmd, &amp;#34;MASTER_ID=3&amp;#34;</description></item><item><title>addSlave.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addslave/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addslave/</guid><description>description Script for adding a slave to the EtherCAT bus configuration.
details Adds the respective hardware to the bus configuration, adds specific and default PV to the EPICS database. For some/most slaves also a default
author Niko Kivel
paramters HW_DESC Hardware descriptor, i.e. EL1008
SLAVE_ID (optional) bus position
SUBST_FILE (optional) substitution file
P_SCRIPT (optional) naming convention prefix script
NELM (optional) Used for oversampling cards. Defaults to 1
DEFAULT_SUBS (optional) option to disble default PVs for mapped PDOs</description></item><item><title>addSlaveKL.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addslavekl/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addslavekl/</guid><description>description Script for adding a slave to the EtherCAT bus configuration of KL type.
details Adds the respective hardware to the bus configuration, adds specific and default PV to the EPICS database. For some/most slaves also a default
author Anders Sandstrom
paramters HW_DESC Hardware descriptor, i.e. KL2032
SLAVE_ID EtherCAT bus position of the BK1250 (or similar terminal)
SLAVE_ID_KL KL-Bus index in two digit hex starting at zero for the first slave after BK1250 (or similar terminal)</description></item><item><title>addVirtualAxis.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addvirtualaxis/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/addvirtualaxis/</guid><description>author Niko Kivel</description></item><item><title>applyAxisSynchronization.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applyaxissynchronization/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applyaxissynchronization/</guid><description>description Script for applying axis synchronization
details Adds synchronization parameters to an axis provided by CONFIG.
author Niko Kivel
paramters CONFIG configuration file, i.e. ./cfg/linear_1.sax
CLEAR_VARS_CMD (optional) Set to &amp;ldquo;empty&amp;rdquo; for not clear env vars (if needed vars for later use).
Example call:
${SCRIPTEXEC} ${ecmccfg_DIR}applyAxisSynchronization.cmd, &amp;#34;CONFIG=./cfg/linear_1.sax&amp;#34;</description></item><item><title>applyConfig.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applyconfig/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applyconfig/</guid><description>author Niko Kivel
Example call:
${SCRIPTEXEC} ${ecmccfg_DIR}applyConfig.cfg</description></item><item><title>applySlaveConfig.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applyslaveconfig/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applyslaveconfig/</guid><description>author Niko Kivel
Example call:
call applySlaveConfig with CONFIG
${SCRIPTEXEC} ${ecmccfg_DIR}applySlaveConfig.cmd, &amp;#34;CONFIG=-Motor-Nanotec-ST4118L1804-B&amp;#34; call applySlaveConfig with LOCAL_CONFIG
${SCRIPTEXEC} ${ecmccfg_DIR}applySlaveConfig.cmd, &amp;#34;LOCAL_CONFIG=./myFancyServoConfig.cfg&amp;#34;</description></item><item><title>applySlaveDCconfig.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applyslavedcconfig/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applyslavedcconfig/</guid><description>author Anders Sandstroem</description></item><item><title>applySubstitutions.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applysubstitutions/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applysubstitutions/</guid><description>description Script for applying substitution file
details Applies substitution from ${SUBST_FILE} with ${P_SCRIPT}
author Niko Kivel
paramters SUBST_FILE (optional) substitution file
ECMC_P PV prefix
P_SCRIPT (optional) naming convention prefix script
NELM (optional) Used for oversampling cards. Defaults to 1
Example calls:
call w/o SLAVE_ID ${SCRIPTEXEC} &amp;#34;${ECMC_CONFIG_ROOT}applySubstitutions.cmd&amp;#34; &amp;#34;SUBST_FILE=${SUBST_FILE=ecmc${ECMC_EC_HWTYPE}.substitutions},ECMC_P=${ECMC_P}&amp;#34;</description></item><item><title>applyTemplate.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applytemplate/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/applytemplate/</guid><description>description Script for applying a template
details Applies template from ${TEMPLATE_FILE} with ${P_SCRIPT}, PARAMS can be passed
author Niko Kivel
paramters TEMPLATE_FILE template file
ECMC_P PV prefix
PARAMS (optional) additional parameters
Example calls:
call w/o SLAVE_ID ${SCRIPTEXEC} &amp;#34;${ECMC_CONFIG_ROOT}applyTemplate.cmd&amp;#34; &amp;#34;TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=${ECMC_P}&amp;#34;</description></item><item><title>chkOverSampFactOrDie.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/chkoversampfactordie/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/chkoversampfactordie/</guid><description>author Anders Sandstroem</description></item><item><title>chkOverSampTimeOrDie.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/chkoversamptimeordie/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/chkoversamptimeordie/</guid><description>author Anders Sandstroem</description></item><item><title>chkValidCurrentSetOrDie.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/chkvalidcurrentsetordie/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/chkvalidcurrentsetordie/</guid><description>author Anders Sandstroem</description></item><item><title>chkValidVoltageSetOrDie.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/chkvalidvoltagesetordie/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/chkvalidvoltagesetordie/</guid><description/></item><item><title>configureAxis.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/configureaxis/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/configureaxis/</guid><description>description Script for adding an axis with configuration.
details Adds an axis to the configuration and applies parameters provided by CONFIG.
author Niko Kivel
paramters CONFIG configuration file, i.e. ./cfg/linear_1.pax
DEV (optional) device name, i.e. MOTOR1
CLEAR_VARS_CMD (optional) Set to &amp;ldquo;empty&amp;rdquo; for not clear env vars (if vars needed for later use).
CFG_MACROS (optional) Substitution macros for config file
Example call:
${SCRIPTEXEC} ${ecmccfg_DIR}configureAxis.cmd, &amp;#34;CONFIG=./cfg/linear_1.pax&amp;#34;</description></item><item><title>configureSlave.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/configureslave/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/configureslave/</guid><description>description Script for adding a slave with dedicated slave configuration to the EtherCAT bus configuration.
details Adds the respective hardware to the bus configuration, adds specific and default PV to the EPICS database. Applies a specific slave configuration.
author Niko Kivel
paramters HW_DESC Hardware descriptor, i.e. EL7037
CONFIG configuration file, i.e. -Motor-Nanotec-ST4118L1804-B
The CONFIG together with the HW_DESC form the full filename which by definition is ecmc${HW_DESC}${CONFIG}.cmd, i.e.: ecmcEL7037-Motor-Nanotec-ST4118L1804-B.</description></item><item><title>configureVirtualAxis.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/configurevirtualaxis/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/configurevirtualaxis/</guid><description>description Script for adding a virtual axis with configuration.
details Adds a virtual axis to the configuration and applies parameters provided by CONFIG.
author Niko Kivel
paramters CONFIG configuration file, i.e. ./cfg/linear_11.vax
DEV (optional) device name, i.e. GAP
CLEAR_VARS_CMD (optional) Set to &amp;ldquo;empty&amp;rdquo; for not clear env vars (if needed vars for later use).
Example call:
${SCRIPTEXEC} ${ecmccfg_DIR}configureVirtualAxis.cmd, &amp;#34;CONFIG=./cfg/linear_11.vax&amp;#34;</description></item><item><title>ecmc_axis-records.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis-records/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis-records/</guid><description>description Script for adding axis related EPICS PVs.
details Adds motorRecord to the IOC.
author Anders Sandstroem
This script is typically called by \b addAxis.cmd</description></item><item><title>ecmc_axis.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis/</guid><description>description Script for configuring a physical axis.
details Configures a physical axis in ECMC, based on previously set environment variables.
author Anders Sandstroem
This script is typically called by \b addAxis.cmd, often via \b ecmc_axis-records.cmd</description></item><item><title>ecmc_axis_diag.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_diag/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_diag/</guid><description>description Script for adding axis diagnostic EPICS PVs.
details Adds diagnostic PVs to the IOC.
author Anders Sandstroem</description></item><item><title>ecmc_axis_mr.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_mr/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_mr/</guid><description>author Anders Sandstroem
This script is typically called by \b ecmc_axis.cmd, often via \b ecmc_axis-records.cmd</description></item><item><title>ecmc_axis_sync.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_sync/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_sync/</guid><description>description Script for configuring axis synchronization
details Configures ECMC for axis synchronization, based on previously set environment variables.
author Anders Sandstroem
This script is typically called by \b applyAxisSynchronization.cmd</description></item><item><title>ecmc_enc-records.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_enc-records/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_enc-records/</guid><description>author Anders Sandstroem
This script is typically called by \b addAxis.cmd</description></item><item><title>ecmc_enc.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_enc/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_enc/</guid><description>description Script for adding an extra encoder
details Configures a encoder object in ECMC, based on previously set environment variables.
author Anders Sandstroem
This script is typically called by \b addEncoder.cmd</description></item><item><title>ecmc_virt_axis-records.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_virt_axis-records/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_virt_axis-records/</guid><description>description Script for adding axis related EPICS PVs.
details Adds motorRecord to the IOC.
author Anders Sandstroem
This script is typically called by \b addVirtualAxis.cmd</description></item><item><title>ecmc_virt_axis.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_virt_axis/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_virt_axis/</guid><description>description Script for configuring a virtual axis.
details Configures a virtual axis in ECMC, based on previously set environment variables.
author Anders Sandstroem
This script is typically called by \b addVirtualAxis.cmd, often via \b ecmc_virt_axis-records.cmd</description></item><item><title>ecmcClassicNaming.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/naming/ecmcclassicnaming/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/naming/ecmcclassicnaming/</guid><description>description Script for defining ${ECMC_PREFIX}
details Gathers relevant information about MasterID, SlaveID, &amp;hellip; to create naming convention compliant PREFIX
author Niko Kivel</description></item><item><title>ecmcESSnaming.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/naming/ecmcessnaming/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/naming/ecmcessnaming/</guid><description>description Script for defining ${ECMC_P}
details Gathers relevant information about MasterID, SlaveID, &amp;hellip; to create naming convention compliant PREFIX
author Niko Kivel</description></item><item><title>ecmcmXsXXX.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/naming/ecmcmxsxxx/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/naming/ecmcmxsxxx/</guid><description>description Script for defining ${ECMC_P}
details Gathers relevant information about MasterID, SlaveID, &amp;hellip; to create naming convention compliant PREFIX
author Niko Kivel</description></item><item><title>general.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/general/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/general/</guid><description>author Niko Kivel, Anders Sandstroem</description></item><item><title>generalDiagnostics.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/generaldiagnostics/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/generaldiagnostics/</guid><description>author Niko Kivel, Anders Sandstroem</description></item><item><title>init.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/init/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/init/</guid><description>author Niko Kivel, Anders Sandstroem</description></item><item><title>initAll.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/initall/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/initall/</guid><description>author Niko Kivel, Anders Sandstroem</description></item><item><title>initAxis.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/initaxis/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/initaxis/</guid><description>author Niko Kivel, Anders Sandstroem</description></item><item><title>issueWarning.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/issuewarning/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/issuewarning/</guid><description>author Anders Sandstroem</description></item><item><title>loadPLCFile.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/loadplcfile/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/loadplcfile/</guid><description>description Script for adding a PLC from file.
details Adds a PLC defined in FILE. Also adds PLC specific EPICS PVs, i.e. for enable/disable.
author Niko Kivel
paramters FILE PLC definition file, i.e. ./plc/homeSlit.plc
PLC_ID (optional) PLC number, default 0
SAMPLE_RATE_MS (optional) excecution rate, default 1000/EC_RATE
PLC_MACROS (optional) Substitution macros for PLC code
TMP_PATH (optional) directory to dump the temporary plc file after macro substitution
PRINT_PLC_FILE (optional) 1/0, printout msi parsed plc file (default enable(1)).</description></item><item><title>loadPlugin.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/loadplugin/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/loadplugin/</guid><description>author Anders Sandstr√∂m
paramters FILE Filename of plugin shared lib (./ecmcPlugin_Advanced.so)
PLUGIN_ID Id of plugin to load
CONFIG (optional) Configuration string sent to plugin at construct
REPORT (optional) Printout information of loaded plugin if set to &amp;ldquo;1&amp;rdquo;
Example call:
${SCRIPTEXEC} ${ecmccfg_DIR}loadPlugin.cmd, &amp;#34;PLUGIN_ID=0,FILE=./ecmcPlugin_Advanced.so,CONFIG=&amp;#39;PLUGIN CONFIGS GO HERE &amp;#39;</description></item><item><title>loadYamlAxis.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/jinja2/loadyamlaxis/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/jinja2/loadyamlaxis/</guid><description>description Script for loading Axis from yaml file via jinja2
details adds an Axis, based on a yaml config file
author Niko Kivel
paramters FILE the yaml-file containing the PLC definition
DEV the device name (optional, defaults to ${IOC}
Example calls:
call ${SCRIPTEXEC} &amp;#34;./loadYamlAxis.cmd&amp;#34; &amp;#34;FILE=./axis1.yaml&amp;#34; ${SCRIPTEXEC} &amp;#34;./loadYamlAxis.cmd&amp;#34; &amp;#34;FILE=./axis1.yaml, DEV=foobar&amp;#34;</description></item><item><title>loadYamlPlc.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/jinja2/loadyamlplc/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/jinja2/loadyamlplc/</guid><description>description Script for loading PLC from yaml file via jinja2
details adds a PLC, line by line, from a yaml-file, parsed by jinja2
author Niko Kivel
paramters FILE the yaml-file containing the PLC definition
Example calls:
call ${SCRIPTEXEC} &amp;#34;./loadYamlPlc.cmd&amp;#34; &amp;#34;FILE=./plc1.yaml&amp;#34;</description></item><item><title>setAppMode.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/setappmode/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/setappmode/</guid><description>author Niko Kivel</description></item><item><title>setDiagnostics.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/setdiagnostics/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/setdiagnostics/</guid><description>author Niko Kivel</description></item><item><title>slaveVerify.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/slaveverify/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/slaveverify/</guid><description>description ** script for slave verification and optional reset**
details will verify the slave identity and reset by writing to 0x1011, optionally read firmwre version from 0x100a
author Niko Kivel
Macros</description></item><item><title>verifyOrDie.cmd</title><link>https://paulscherrerinstitute.github.io/ecmccfg/source/general/verifyordie/</link><pubDate>Wed, 25 Oct 2023 14:09:57 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/general/verifyordie/</guid><description>author Anders Sandstroem</description></item><item><title>introduction</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/introduction/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/introduction/</guid><description>principle EtherCAT requires the field bus components (slaves) to be configured on the master. The master must know about the data exchanges with the slaves, this is referred to as process image.
During IOC-startup, the requested configuration is validated against the actually present hardware on the bus. Mismatches will result in an error, the IOC will not start.
Blindly restarting the IOC, with only partially working EtherCAT hardware, will results in an inoperable IOC!</description></item><item><title>ethercat command line interface</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/troubleshooting/ethercatcli/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/troubleshooting/ethercatcli/</guid><description>ethercat CLI The IgH EtherCAT master provides a command line interface (CLI) which is a very powerful tool. The most common commands will be explained here.
ethercat master This will show the state of all masters on the respective host.
The command will show the state of all masters. To limit the command to a single master, make use of the -m parameter.
The -m parameter is available to all ethercat commands, and is even require by some in case of multiple masters.</description></item><item><title>motion</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/troubleshooting/motion/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/troubleshooting/motion/</guid><description>culprit From experience, very few issues are related to the EtherCAT hardware itself. Mostly the cabling or the actual motor/encoder hardware is to blame.
Even more likely is human error, such as:
wrong scaling of the axis writing to the wrong hardware (forgot to select the right slave in the axis config) &amp;hellip; check the status Before anything is restarted or power cycled, check the status of the slaves.</description></item><item><title>axis yaml configuration</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/axis/axisyaml/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/axis/axisyaml/</guid><description>Since ecmccfg v7, the axis configuration is based on yaml files. Backwards compatibility for classic EPICS environment variable based configuration is assured for legacy systems.
yaml is - like python - indentation sensitive!
Indent with 2 spaces.
introduction python 3.x is required
The config is processed by a python script with a jinja2 backend. The processor will complain if mandatory keys are missing. Likewise, missing optional keys are populated with default values.</description></item><item><title>PLC syntax help</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/plc/plcsyntax/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/plc/plcsyntax/</guid><description>In ECMC, PLCs are based on the exprtk expression evaluation library. For detailed syntax help please visit the exprtk website
common errors, misconceptions and info operators :=: assignment = or ==: equal comparison functions PLC do not immediately write to the bus! The PLC will excecute synchronous to the cycle, or at an integer fraction of it. The prcessed data will be send to the bus with the next cycle.</description></item><item><title>axis PLC</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/axis/axisplc/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/axis/axisplc/</guid><description>introduction Each axis can have a native PLC. This PLC can be e.g. used for interlocking or synchronisation. The axis PLC is part of the yaml config. The code can be provided inline or in a separate file.
inline plc: enable: yes externalCommands: yes code: - ax3.enc.actpos:=(ax1.enc.actpos+ax2.enc.actpos)/2 filter: velocity: enable: yes size: 100 trajectory: enable: yes size: 100 file plc: enable: yes externalCommands: yes file: cfg/heave.plc filter: velocity: enable: yes size: 100 trajectory: enable: yes size: 100 This is the respective plc file</description></item><item><title>axis scaling</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/axis/scaling/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/axis/scaling/</guid><description>By popular demand, the topic scaling will be discusses in closer detail.
ECMC has to scaling factors for each joint, firstly the drive scaling, secondly the encoder scaling.
Changes to the scaling have direct effects on the Kp of the PID-loop. If the drive scaling is changes, make sure to adjust the PID parameters accordingly.
drive scaling Drive scaling deals with the relation of the drive output (typically a 16- or 32-bit register) to axis velocity.</description></item><item><title>direction of motion</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/axis/direction/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/axis/direction/</guid><description>The direction of motion can be affected by multiple means. Namely, on the slave level, in the axis scaling or in the motorRecord.
The best option is to change the direction of motion on the slave level. The alternatives lead to unintuitive scaling factors or mismatch between ECMC and EPICS.
EtherCAT slave ecmccfg allows SDOs to set individual SDOs in the startup-script of the IOC or in dedicated config files for slaves.</description></item><item><title/><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_sync_unset/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_sync_unset/</guid><description/></item><item><title/><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_unset/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_axis_unset/</guid><description/></item><item><title/><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_enc_unset/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_enc_unset/</guid><description/></item><item><title/><link>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_virt_axis_unset/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/motion/ecmc_virt_axis_unset/</guid><description/></item><item><title/><link>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/empty/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/scripts/empty/</guid><description/></item><item><title/><link>https://paulscherrerinstitute.github.io/ecmccfg/source/startup/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/source/startup/</guid><description/></item></channel></rss>