<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>knowledge base on ecmccfg</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/</link><description>Recent content in knowledge base on ecmccfg</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/index.xml" rel="self" type="application/rss+xml"/><item><title>general</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/general/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/general/</guid><description>General ERROR_EC_MAIN_INVALID_SLAVE_INDEX This error could be generated if:
Power to the slaves are missing. Slave index is wrong Slaves are disconnected (cable disconnected) The MASTER_ID of the current IOC is wrong (the slaves are on another master). Example of error in iocsh:
iocshLoad /gfa/.mounts/sls_ioc/modules/ecmccfg/9.6.8/R7.0.8/addSlave.cmd, &amp;quot;HW_DESC=EK1100&amp;quot; #============================================================================== ecmcIf(&amp;quot;'NAN'!='NAN' and 0!=1&amp;quot;) ecmcEndIf() epicsEnvUnset(ECMC_HW_PANEL) epicsEnvSet(&amp;quot;ECMC_EC_SLAVE_NUM&amp;quot;, &amp;quot;0&amp;quot;) epicsEnvSet(&amp;quot;HW_DESC&amp;quot;, &amp;quot;EK1100&amp;quot;) epicsEnvSet(&amp;quot;P_SCRIPT&amp;quot;, &amp;quot;mXsXXX&amp;quot;) epicsEnvUnset(ECMC_EC_COMP_TYPE) ecmcFileExist(&amp;quot;/gfa/.mounts/sls_ioc/modules/ecmccfg/9.6.8/R7.0.8/ecmcEK1100.cmd&amp;quot;,1) iocshLoad &amp;quot;/gfa/.mounts/sls_ioc/modules/ecmccfg/9.6.8/R7.0.8/ecmcEK1100.cmd&amp;quot; &amp;quot;NELM=1&amp;quot; epicsEnvSet(&amp;quot;ECMC_EC_HWTYPE&amp;quot; &amp;quot;EK1100&amp;quot;) epicsEnvSet(&amp;quot;ECMC_EC_VENDOR_ID&amp;quot; &amp;quot;0x2&amp;quot;) epicsEnvSet(&amp;quot;ECMC_EC_PRODUCT_ID&amp;quot; &amp;quot;0x044c2c52&amp;quot;) iocshLoad /gfa/.</description></item><item><title>ethercat command line interface</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/ethercatcli/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/ethercatcli/</guid><description>ethercat CLI The IgH EtherCAT master provides a command line interface (CLI) which is a very powerful tool. The most common commands will be explained here.
ethercat master This will show the state of all masters on the respective host.
The command will show the state of all masters. To limit the command to a single master, make use of the -m parameter.
The -m parameter is available to all ethercat commands, and is even require by some in case of multiple masters.</description></item><item><title>motion</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/motion/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/motion/</guid><description>Topics both_limits error position lag error, (following error) drive refuse to enable force manual motion double limit switches both_limits error The &amp;ldquo;BOTH_LIMITS&amp;rdquo; error can be related to that limits switches are not powered with 24V. As standard at PSI, limits are feed from 24V outputs, normally an EL2819 terminal. Basically the outputs needs then to be set to 1 in order to power the switches. Check the schematics in order to find out which output that powers the switches for a certain axis and then use one the following approaches to set it to 1:</description></item><item><title>tuning</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/tuning/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/tuning/</guid><description>Tuning There are normally several control loops in an ecmc motion system:
Position loop (centralized in ecmc if CSV) Velocity loop (in drive) Current loop (in drive) Position loop The position loop control parameters can be accessed and tuned by PVs. Normally, a pure P controller is enough (ki and kp set to 0) but sometimes the I and D part can be needed.
Backlash
Tuning systems with backlash can be difficult.</description></item><item><title>host / ecmc server</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/host/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/host/</guid><description>Topics Prefered NICs latency issues / lost frames EtherCAT rate (EC_RATE) Prefered NICs igb driver (ec_igb):
Intel Corporation I210 Gigabit Network Connection (rev 03) Intel Corporation I350 Gigabit Network Connection (rev 01) latency issues / lost frames High latency, more than 30% of the ethercat cycle time, can result in lost ethercat frames, which means data are lost. High latency of the ecmc_rt thread can be related to:</description></item><item><title>panel</title><link>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/panel/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://paulscherrerinstitute.github.io/ecmccfg/manual/knowledgebase/panel/</guid><description>Overview panel For an overview of an ecmc system, the ecmcMain.ui panel is a good starting point. The ecmcMain.ui covers most parts of an ecmc system:
ecmc_rt thread diagnostics: Jitter Cycle time EtherCAT: Status Lost frames Slave count master Id Links to dedicated sub panels for each slave type. Links to all configured objects: motion expert panels PLC objects plugin objects data storage objects The panel is started with the following syntax:</description></item></channel></rss>