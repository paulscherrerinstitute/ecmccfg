axis:
  id: $(ID)
  type: ee
  parameters: powerAutoOnOff=2;powerOnDelay=6.0;powerOffDelay=1.0;


epics:
  name: Master$(ID)
  precision: 3
  unit: mm
  motorRecord:
    enable: yes
    description: "Master"
#    fieldInit: ""

encoder:
  source: 1
  position: ec0.s${ENC_SLAVE}.ONE.0

trajectory:
  # type: 1                                           # Default 0 = trapetz, 1 = S-curve (ruckig)
  axis:
    velocity: 0.005                                     # Default velo for axis
    acceleration: 0.005                                # Default acc for axis
    deceleration: 0.005                                # Default dec for axis
    # emergencyDeceleration: 0.05                     # Deceleration when axis in error state
    jerk: 10                                          # Default jerk for axis
  jog:
    velocity: 0.005   

input:
  limit:
    forward: ec0.s${ENC_SLAVE}.ONE.0
    backward: ec0.s${ENC_SLAVE}.ONE.0
  home: ec0.s${ENC_SLAVE}.ONE.0
  interlock: ec0.s${ENC_SLAVE}.ONE.0

monitoring:
  lag:
    enable: yes
    tolerance: 0.1
    time: 100
  target:
    enable: true
    tolerance: 0.1
    time: 100
  velocity:
    enable: true
    max: 60
    time:
      trajectory: 100
      drive: 200

plc:
  enable: yes  # value at IOC start, yes, since it has no effect to physical axis (readback only)
  externalCommands: yes # allow commands from other PLC
  code:
    - ax3.enc.actpos:=(ax1.enc.actpos + ax2.enc.actpos)/2;  # calc center pos out of physical axes
  filter:
    velocity:
      enable: false
      size: 100
    trajectory:
      enable: false
      size: 100

